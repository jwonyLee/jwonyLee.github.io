---
layout: post
title: íƒˆì¶œ í´ë¡œì €ì— ëŒ€í•˜ì—¬ ì„¤ëª…í•˜ì‹œì˜¤.
subtitle: iOSInterviewquestions
categories: iOSInterviewquestions
tags: [Swift, iOSInterviewquestions]
emoji: ğŸ
---

## í´ë¡œì €

ì¼ì • ê¸°ëŠ¥ì„ í•˜ëŠ” ì½”ë“œë¥¼ í•˜ë‚˜ì˜ ë¸”ë¡ìœ¼ë¡œ ëª¨ì•„ë†“ì€ ê²ƒ

- ë³€ìˆ˜ë‚˜ ìƒìˆ˜ê°€ ì„ ì–¸ëœ ìœ„ì¹˜ì—ì„œ ì°¸ì¡°(Reference)ë¥¼ íšë“(Capture)í•˜ê³  ì €ì¥í•  ìˆ˜ ìˆìŒ
- í´ë¡œì €ì˜ ì„¸ ê°€ì§€ í˜•íƒœ
    - ì´ë¦„ì´ ìˆìœ¼ë©´ì„œ ì–´ë–¤ ê°’ë„ íšë“í•˜ì§€ ì•ŠëŠ” ì „ì—­í•¨ìˆ˜ì˜ í˜•íƒœ
    - ì´ë¦„ì´ ìˆìœ¼ë©´ì„œ ë‹¤ë¥¸ í•¨ìˆ˜ ë‚´ë¶€ì˜ ê°’ì„ íšë“í•  ìˆ˜ ìˆëŠ” ì¤‘ì²©ëœ í•¨ìˆ˜ì˜ í˜•íƒœ
    - ì´ë¦„ì´ ì—†ê³  ì£¼ë³€ ë¬¸ë§¥ì— ë”°ë¼ ê°’ì„ íšë“í•  ìˆ˜ ìˆëŠ” ì¶•ì•½ ë¬¸ë²•ìœ¼ë¡œ ì‘ì„±í•œ í˜•íƒœ

```swift
{ (Parameter) -> ReturnType in
    // code
}
```

## íƒˆì¶œ í´ë¡œì €

í•¨ìˆ˜ì˜ ì „ë‹¬ì¸ìë¡œ ì „ë‹¬í•œ í´ë¡œì €ê°€ í•¨ìˆ˜ ì¢…ë£Œ í›„ì— í˜¸ì¶œë  ë•Œ í´ë¡œì €ê°€ í•¨ìˆ˜ë¥¼ íƒˆì¶œ(Escape)í•œë‹¤ê³  í‘œí˜„í•¨

í´ë¡œì €ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ê°–ëŠ” í•¨ìˆ˜ë¥¼ ì„ ì–¸í•  ë•Œ ë§¤ê°œë³€ìˆ˜ ì´ë¦„ì˜ ì½œë¡ (:) ë’¤ì— `@escaping` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í´ë¡œì €ê°€ íƒˆì¶œí•˜ëŠ” ê²ƒì„ í—ˆìš©í•œë‹¤ê³  ëª…ì‹œí•´ì¤„ ìˆ˜ ìˆìŒ

ë¹„ë™ê¸° ì‘ì—…ì„ í•˜ëŠ” í•¨ìˆ˜ë“¤ì€ completion handlerë¥¼ í´ë¡œì € í˜•íƒœë¡œ ë°›ëŠ” ê²½ìš°ê°€ ë§ë‹¤. ì´ ë•Œ ë°›ì€ í´ë¡œì €ëŠ” í•¨ìˆ˜ì˜ ì‘ì—…ì´ ì™„ë£Œë  ë•Œê¹Œì§€ í˜¸ì¶œë˜ì§€ ì•ŠëŠ”ë‹¤. ì‹¤í–‰ ìˆœì„œë¥¼ ë³´ì¥í•˜ê³  ì‹¶ì„ ë•Œ? ì‚¬ìš©í•œë‹¤.

---

## ì°¸ê³  ìë£Œ

- ìŠ¤ìœ„í”„íŠ¸ í”„ë¡œê·¸ë˜ë° 3íŒ, ì•¼ê³° ì§€ìŒ
- [íƒˆì¶œ í´ë¡œì € (@escaping closure)](https://jinios.github.io/swift/2018/06/13/escaping/)

## ìŠ¤í„°ë””

```swift
func callBack(fn: () -> void) {
    let f = fn
    fn()
}
```
- ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì€ í´ë¡œì €ë¥¼ ë‚´ë¶€ ë³€ìˆ˜ì— ì €ì¥í•  ìˆ˜ ì—†ìŒ
    - non escaping parameter may only be called
```swift
func callBack(fn: @escaping () -> void) {
    let f = fn
    f()
}
```
- í´ë¡œì €ì˜ ê¸°ë³¸ê°’ì´ non-excapingì¸ ì´ìœ 
    â†’ ì»´íŒŒì¼ëŸ¬ê°€ ì½”ë“œë¥¼ ìµœì í™”í•˜ëŠ” ê³¼ì •ì—ì„œ ì„±ëŠ¥ í–¥ìƒ
- íƒˆì¶œ
    - í´ë¡œì €ê°€ ì•ˆì— ìˆë‹¤ê°€ ë°”ê¹¥ì—ì„œ ë²—ì–´ë‚˜ì„œ ì‹¤í–‰í•˜ê²Œë˜ëŠ”ê±¸.. íƒˆì¶œì´ë¼ê³  í•œë‹¤
```swift
class Server { 
    static var persons: [Person] = [] 
    
    static getPerson(completion: @escaping (Bool, [Person]) -> Void) {
    // ìˆœì„œ 2. 
        Alamofire.request(urlRequest).responseJSON { 
            response in persons.append(ë°ì´í„°) DispatchQueue.main.async { 
                // ìˆœì„œ 3. 
                completion(true, persons) 
            }
        } 
    }
}
// Usage, ex) ViewController.swift
// ìˆœì„œ 1.
Server.getPerson { (isSuccess, persons) in 
    // ìˆœì„œ 4. 
    if isSuccess { 
        // update UI
    }
}
```
- íƒˆì¶œ í´ë¡œì €ì„ì„ ëª…ì‹œí•œ ê²½ìš°, í´ë¡œì € ë‚´ë¶€ì—ì„œ í•´ë‹¹ íƒ€ì…ì˜ í”„ë¡œí¼í‹°ë‚˜ ë©”ì„œë“œ, ì„œë¸ŒìŠ¤í¬ë¦½íŠ¸ ë“±ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„œëŠ” ë°˜ë“œì‹œ `self` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.
- ë¹„íƒˆì¶œì˜ ê²½ìš° ë°˜ë“œì‹œ ëª…ì‹œí•´ì¤„ í•„ìš”ëŠ” ì—†ë‹¤. (ì„ íƒì )
- ìŠ¤ìœ„í”„íŠ¸ í”„ë¡œê·¸ë˜ë° 3íŒ 267p, withoutActuallyEscaping ì½ê¸°
- ê°’ íƒ€ì…ì˜ ê²½ìš°, íƒˆì¶œ í´ë¡œì €ëŠ” mutable referenceë¥¼ ìº¡ì³ë§ í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì—ëŸ¬ê°€ ë°œìƒí•¨