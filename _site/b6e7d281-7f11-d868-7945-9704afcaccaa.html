<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ğŸ“Œ ê¸°ì¡´ í”„ë¡œì íŠ¸ì—ì„œ ê¸°ëŠ¥ì„ ë¶„ë¦¬í•´ì„œ Swift Packageë¡œ ëª¨ë“ˆí™”í•˜ê¸°
</code></pre></div></div>

<p>iOS í”„ë¡œì íŠ¸ì—ì„œ ëª¨ë“ˆí™” í•˜ëŠ” ë°©ì‹ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p>
<ul>
  <li>Swift Package ë¡œ ë§Œë“¤ê¸°</li>
  <li>(Dynamic/Static) Framework ë¡œ ë§Œë“¤ê¸°</li>
  <li>(Dynamic/Static) Library ë¡œ ë§Œë“¤ê¸°</li>
</ul>

<p>ì´ ê¸€ì—ì„œëŠ” Swift Package ë¡œ ë§Œë“ ë‹¤.</p>

<h2 id="íŒ¨í‚¤ì§€-ìƒì„±ê³¼-ê¸°ë³¸-ì„¤ì •">íŒ¨í‚¤ì§€ ìƒì„±ê³¼ ê¸°ë³¸ ì„¤ì •</h2>

<p><code class="language-plaintext highlighter-rouge">File &gt; New &gt; Package</code> ë¥¼ ì„ íƒí•œë‹¤.</p>

<p><img src="/assets/img/create-SPM/file-new-package.png" alt="File &gt; New &gt; Package" /></p>

<p>íŒ¨í‚¤ì§€ ì´ë¦„ê³¼ ìœ„ì¹˜ë¥¼ ì§€ì •í•´ì¤€ë‹¤. ê³µí†µ ëª¨ë“ˆì„ ë§Œë“¤ê¸° ìœ„í•´ì„œ <code class="language-plaintext highlighter-rouge">Platform</code> ì´ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì§€ì •í•´ì£¼ì—ˆê³ , ìœ„ì¹˜ëŠ” ê¸°ì¡´ í”„ë¡œì íŠ¸ë¡œ ì§€ì •í•´ì£¼ì—ˆë‹¤. ê·¸ë¦¬ê³  í•˜ë‹¨ì— Add to: Group: ì´ë¼ëŠ” ë¶€ë¶„ì— ê¸°ì¡´ í”„ë¡œì íŠ¸ë¥¼ ì„ íƒí•œë‹¤.</p>

<p><img src="/assets/img/create-SPM/create-package.png" alt="create Package" /></p>

<p>Create ë¥¼ ëˆ„ë¥´ë©´ íŒ¨í‚¤ì§€ê°€ ìƒì„±ì´ ëœë‹¤. ê¸°ë³¸ìœ¼ë¡œ ìƒì„±ë˜ëŠ” êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Platform (íŒ¨í‚¤ì§€ ì´ë¦„)
â”œâ”€â”€ README.md
â”œâ”€â”€ Package.swift
â”œâ”€â”€ Sources
â”‚   â””â”€â”€ Platform
â”‚       â””â”€â”€ Platform.swift
â””â”€â”€ Tests
    â””â”€â”€ PlatformTests
        â””â”€â”€ PlatformTests.swift
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">Package.swift</code>ëŠ” íŒ¨í‚¤ì§€ì˜ ì„¤ì •ì„ ì •ì˜í•˜ëŠ” íŒŒì¼ì´ë‹¤. ìƒˆë¡œìš´ ëª¨ë“ˆì„ ì¶”ê°€í•˜ê±°ë‚˜, ì˜ì¡´ì„±ì„ ì¶”ê°€í•˜ëŠ” ë“±ì˜ ì‘ì—…ì€ ì—¬ê¸°ì„œ í•œë‹¤.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// swift-tools-version:5.5</span>
<span class="c1">// The swift-tools-version declares the minimum version of Swift required to build this package.</span>

<span class="kd">import</span> <span class="kt">PackageDescription</span>

<span class="k">let</span> <span class="nv">package</span> <span class="o">=</span> <span class="kt">Package</span><span class="p">(</span>
    <span class="nv">name</span><span class="p">:</span> <span class="s">"Platform"</span><span class="p">,</span>
    <span class="nv">products</span><span class="p">:</span> <span class="p">[</span>
        <span class="c1">// Products define the executables and libraries a package produces, and make them visible to other packages.</span>
        <span class="o">.</span><span class="nf">library</span><span class="p">(</span>
            <span class="nv">name</span><span class="p">:</span> <span class="s">"Platform"</span><span class="p">,</span>
            <span class="nv">targets</span><span class="p">:</span> <span class="p">[</span><span class="s">"Platform"</span><span class="p">]),</span>
    <span class="p">],</span>
    <span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span>
        <span class="c1">// Dependencies declare other packages that this package depends on.</span>
        <span class="c1">// .package(url: /* package url */, from: "1.0.0"),</span>
    <span class="p">],</span>
    <span class="nv">targets</span><span class="p">:</span> <span class="p">[</span>
        <span class="c1">// Targets are the basic building blocks of a package. A target can define a module or a test suite.</span>
        <span class="c1">// Targets can depend on other targets in this package, and on products in packages this package depends on.</span>
        <span class="o">.</span><span class="nf">target</span><span class="p">(</span>
            <span class="nv">name</span><span class="p">:</span> <span class="s">"Platform"</span><span class="p">,</span>
            <span class="nv">dependencies</span><span class="p">:</span> <span class="p">[]),</span>
        <span class="o">.</span><span class="nf">testTarget</span><span class="p">(</span>
            <span class="nv">name</span><span class="p">:</span> <span class="s">"PlatformTests"</span><span class="p">,</span>
            <span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span><span class="s">"Platform"</span><span class="p">]),</span>
    <span class="p">]</span>
<span class="p">)</span>
</code></pre></div></div>

<p>ê°€ì¥ ë¨¼ì € í•´ì¤˜ì•¼ í•˜ëŠ” ê²ƒì€, ì´ íŒ¨í‚¤ì§€ì˜ í”Œë«í¼(not my package)ì„ ì§€ì •í•´ì£¼ëŠ” ê²ƒì´ë‹¤. í”Œë«í¼ì€ ì´ íŒ¨í‚¤ì§€ì˜ ì§€ì›í•˜ê³ ì í•˜ëŠ” í”Œë«í¼ê³¼ ë²„ì „ì„ ì§€ì •í•˜ëŠ” ê²ƒì´ë‹¤. ê¸°ì¡´ í”„ë¡œë•íŠ¸ì˜ iOS Deployment Target ê³¼ ë™ì¼í•˜ê²Œ ì„¤ì •í•˜ë©´ ëœë‹¤. ì™œ ì´ ê°’ì´ ê¸°ë³¸ê°’ìœ¼ë¡œ ì•ˆ ë“¤ì–´ê°”ëŠ”ì§€ê°€ ì˜ë¬¸ì´ë‹¤.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">PackageDescription</span>

<span class="k">let</span> <span class="nv">package</span> <span class="o">=</span> <span class="kt">Package</span><span class="p">(</span>
    <span class="nv">name</span><span class="p">:</span> <span class="s">"Platform"</span><span class="p">,</span>
    <span class="nv">platforms</span><span class="p">:</span> <span class="p">[</span>
        <span class="o">.</span><span class="nf">iOS</span><span class="p">(</span><span class="o">.</span><span class="n">v12</span><span class="p">)</span>
    <span class="p">],</span>
    <span class="nv">products</span><span class="p">:</span> <span class="p">[</span>
</code></pre></div></div>

<p>ë§Œì•½ ì´ ê°’ì„ ì§€ì •í•˜ì§€ ì•Šê±°ë‚˜, ë‚´ê°€ ì´ íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ëŠ” í”„ë¡œì íŠ¸ ë²„ì „ì´ ë” ë‚®ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë¹Œë“œ ì—ëŸ¬ê°€ ëœ¬ë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>The package product 'ë””íœë˜ì‹œ ì´ë¦„' requires minimum platform version 10.0 for the iOS platform, but this target supports 9.0
</code></pre></div></div>

<h2 id="ëª¨ë“ˆ-ì¶”ê°€í•˜ê¸°">ëª¨ë“ˆ ì¶”ê°€í•˜ê¸°</h2>

<p><code class="language-plaintext highlighter-rouge">Network</code> ë¼ëŠ” ëª¨ë“ˆì„ ì¶”ê°€í•˜ê³  ì‹¶ë‹¤.</p>

<p>ë¨¼ì € ê¸°ë³¸ìœ¼ë¡œ ìƒì„±ëœ <code class="language-plaintext highlighter-rouge">Sources/Platform</code> ê³¼ <code class="language-plaintext highlighter-rouge">Tests/PlatformTests</code> ë””ë ‰í† ë¦¬ë¥¼ ì‚­ì œí•œë‹¤. ì´ ìƒíƒœì—ì„œ ë¹Œë“œí•˜ë©´ ì‹¤íŒ¨í•˜ê³ , ì—ëŸ¬ê°€ ëœ¬ë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Source files for target Platform should be located under 'Sources/Platform', or a custom sources path can be set with the 'path' property in Package.swift
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">Package.swift</code> íŒŒì¼ì—ì„œ <code class="language-plaintext highlighter-rouge">Platform</code> ì´ë¼ëŠ” ëª¨ë“ˆê³¼ <code class="language-plaintext highlighter-rouge">PlatformTests</code> ë¼ëŠ” ëª¨ë“ˆì„ ì¶”ê°€í•´ë’€ëŠ”ë°, ì°¾ì§€ ëª»í•´ì„œ ëœ¨ëŠ” ì—ëŸ¬ë‹¤.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">products</span><span class="p">:</span> <span class="p">[</span>
    <span class="o">.</span><span class="nf">library</span><span class="p">(</span>
        <span class="nv">name</span><span class="p">:</span> <span class="s">"Platform"</span><span class="p">,</span>
        <span class="nv">targets</span><span class="p">:</span> <span class="p">[</span><span class="s">"Platform"</span><span class="p">]</span>
    <span class="p">),</span>
<span class="p">],</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">Platform</code> ì´ë¼ê³  ì“°ì—¬ìˆëŠ” ë¶€ë¶„ì„ <code class="language-plaintext highlighter-rouge">Network</code>ë¡œ ëŒ€ì²´í•œë‹¤. <code class="language-plaintext highlighter-rouge">Network</code> ëª¨ë“ˆ ë¿ë§Œ ì•„ë‹ˆë¼ <code class="language-plaintext highlighter-rouge">Core</code> ë¼ëŠ” ëª¨ë“ˆë„ ì¶”ê°€í•˜ê³  ì‹¶ë‹¤ë©´? ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•œë‹¤.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">products</span><span class="p">:</span> <span class="p">[</span>
    <span class="o">.</span><span class="nf">library</span><span class="p">(</span>
        <span class="nv">name</span><span class="p">:</span> <span class="s">"Network"</span><span class="p">,</span>
        <span class="nv">targets</span><span class="p">:</span> <span class="p">[</span><span class="s">"Network"</span><span class="p">]</span>
    <span class="p">),</span>
    <span class="o">.</span><span class="nf">library</span><span class="p">(</span>
        <span class="nv">name</span><span class="p">:</span> <span class="s">"Core"</span><span class="p">,</span>
        <span class="nv">targets</span><span class="p">:</span> <span class="p">[</span><span class="s">"Core"</span><span class="p">]</span>
    <span class="p">)</span>
<span class="p">],</span>
</code></pre></div></div>

<p>ê·¸ëŸ° ë‹¤ìŒ targets í•­ëª©ì— Network ëª¨ë“ˆì„ ì¶”ê°€í•œë‹¤. (ê¸°ì¡´ì— ìˆë˜ PlatformTests íƒ€ê²Ÿì€ ì œê±°)</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">targets</span><span class="p">:</span> <span class="p">[</span>
    <span class="o">.</span><span class="nf">target</span><span class="p">(</span>
        <span class="nv">name</span><span class="p">:</span> <span class="s">"Network"</span><span class="p">,</span>
        <span class="nv">dependencies</span><span class="p">:</span> <span class="p">[]</span>
    <span class="p">)</span>
<span class="p">]</span>
</code></pre></div></div>

<p>ì´ë ‡ê²Œ ì‘ì„±í•˜ë©´ ì„¤ì •ì€ ëì´ ë‚¬ê³ , ë¹Œë“œí•˜ë©´ ì—­ì‹œë‚˜ ê²½ë¡œë¥¼ ì°¾ì§€ ëª»í•œë‹¤ëŠ” ì—ëŸ¬ê°€ ëœ¬ë‹¤. Sources ë””ë ‰í† ë¦¬ ë‚´ì— Network ë””ë ‰í† ë¦¬ë¥¼ ìƒì„±í•˜ë©´ ëœë‹¤.</p>

<p>ë§Œì•½ Network ëª¨ë“ˆì—ì„œ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ? dependencies í•­ëª©ì— ì‚¬ìš©í•˜ê³ ì í•˜ëŠ” ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì¶”ê°€í•˜ë©´ ëœë‹¤.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span>
    <span class="o">.</span><span class="nf">package</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="s">"https://github.com/ReactiveX/RxSwift.git"</span><span class="p">,</span> <span class="o">.</span><span class="nf">exact</span><span class="p">(</span><span class="s">"6.5.0"</span><span class="p">))</span>
<span class="p">],</span>
</code></pre></div></div>

<p>ì´ë ‡ê²Œ ë””íœë˜ì‹œë¥¼ ì¶”ê°€í•œ ë’¤ì—,</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">targets</span><span class="p">:</span> <span class="p">[</span>
    <span class="o">.</span><span class="nf">target</span><span class="p">(</span>
        <span class="nv">name</span><span class="p">:</span> <span class="s">"Network"</span><span class="p">,</span>
        <span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span><span class="s">"RxSwift"</span><span class="p">]</span>
    <span class="p">)</span>
<span class="p">]</span>
</code></pre></div></div>

<p>ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” targetì˜ dependencies ì— í•´ë‹¹ ë””íœë˜ì‹œ ì´ë¦„ì„ ë„£ì–´ì¤€ë‹¤.</p>

<hr />

<p>ì¶”ê°€ì ìœ¼ë¡œ ì´ê±´ ë‚´ê°€ ìì£¼ ë†“ì¹˜ëŠ” ë¶€ë¶„ì¸ë°, Swift ì—ì„œëŠ” ì£¼ë¡œ ì ‘ê·¼ ì§€ì •ìë¥¼ ê¸°ë³¸ê°’ì¸ <code class="language-plaintext highlighter-rouge">internal</code> ê³¼ <code class="language-plaintext highlighter-rouge">private</code> ì„ ë§ì´ ì“´ë‹¤. ê·¸ë˜ì„œ ê¸°ì¡´ í”„ë¡œì íŠ¸ì— ìˆë˜ í´ë˜ìŠ¤/êµ¬ì¡°ì²´/ì—´ê±°í˜•ì„ ëª¨ë“ˆë¡œ ì˜®ê²¨ì„œ ì‚¬ìš©í•˜ë©´ <code class="language-plaintext highlighter-rouge">internal</code>ì—ì„œ ë²”ìœ„(ëª¨ë“ˆ ë‚´ë¶€ë§Œ ê°€ëŠ¥)ê°€ ë²—ì–´ë‚¬ê¸° ë•Œë¬¸ì— ë‚˜ëŠ” ë¶„ëª… import ë„ ì˜í•´ì¤¬ëŠ”ë° ëª¨ë“ˆì„ ì°¾ì„ ìˆ˜ ì—†ë‹¤ê³  ëœ¬ë‹¤. ëª¨ë“ˆë¡œ ë¶„ë¦¬í•œ ê°ì²´ëŠ” ìŠì§€ë§ê³  <code class="language-plaintext highlighter-rouge">public</code>ìœ¼ë¡œ ì§€ì •í•´ì£¼ì. ì´ê±¸ë¡œ ì‚½ì§ˆ ê½¤ë‚˜ í–ˆë‹¤. í‘í‘.</p>

<p>ê·¸ë¦¬ê³  ê°€ë”, ì˜í–ˆëŠ”ë°ë„ ë¹Œë“œê°€ ì•ˆëœë‹¤ë©´, Xcode ë¥¼ ê»ë‹¤ ì¼œì.</p>

<h2 id="íƒœê·¸">íƒœê·¸</h2>

<p>#Swift/Pakage #iOS/PackageManager/SPM</p>
