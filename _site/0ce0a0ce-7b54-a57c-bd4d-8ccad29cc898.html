<!DOCTYPE html>
<html>
    <script type="application/json" id="pagePermalinks">
    {
        
        "ì œëª©ì´-test-ì…ë‹ˆë‹¤": "/wiki/test/", 
        
        "optional-ì´ë€-ë¬´ì—‡ì¸ì§€-ì„¤ëª…í•˜ì‹œì˜¤": "/7972af36-2e95-e5a9-936b-b2d8008d0dd2", 
        
        "tableview-reloadsections": "/6818f72c-8679-19ea-5849-0fa044b8e138", 
        
        "tableview-focus": "/9725d37e-e0e5-a1ed-f4fc-97a20479f6c8", 
        
        "mvc": "/048e70ef-9d22-1bdd-7eaf-6ff020589788", 
        
        "delegate": "/acb464ba-05ef-d1f8-d186-8452b3c43600", 
        
        "delegates-notification": "/9ba05cc2-3d59-2b87-ea58-f3e733d6be01", 
        
        "fast-enumeration": "/9740e81d-a83f-61b9-05b2-bbae589cb348", 
        
        "kvo": "/41c517d9-8d30-b798-dc70-778ecc8eeba4", 
        
        "swift-ë©€í‹°-ì“°ë ˆë“œë¡œ-ë™ì‘í•˜ëŠ”-ì•±ì„-ì‘ì„±í•˜ê³ -ì‹¶ì„-ë•Œ-ê³ ë ¤í• -ìˆ˜-ìˆëŠ”-ë°©ì‹ë“¤ì„-ì„¤ëª…í•˜ì‹œì˜¤": "/1ed82824-eb50-f1aa-3b78-7d9d67ca19f5", 
        
        "protocol": "/6f275a5a-09f0-5f53-7915-468b140ff59a", 
        
        "singleton": "/7a278d9b-ab71-5000-e7a8-be05b116af61", 
        
        "struct": "/2c42b7f6-d4e0-db2b-d0b7-4bdd7d750dfb", 
        
        "instance-method-class-method": "/5c700d5d-fd29-8292-6da1-c293485aabc2", 
        
        "swift-hashableì´-ë¬´ì—‡ì´ê³ -equatableì„-ì™œ-ìƒì†í•´ì•¼-í•˜ëŠ”ì§€-ì„¤ëª…í•˜ì‹œì˜¤": "/cc011585-af44-56be-eb26-97493639019e", 
        
        "swift-íƒˆì¶œ-í´ë¡œì €ì—-ëŒ€í•˜ì—¬-ì„¤ëª…í•˜ì‹œì˜¤": "/110c7a71-3d8e-f97e-14d9-24d6c28778f1", 
        
        "swift-extensionì—-ëŒ€í•´-ì„¤ëª…í•˜ì‹œì˜¤": "/1b55afe8-60cf-8c94-0be0-14f2859f9e38", 
        
        "swift-ì ‘ê·¼-ì œì–´ìì˜-ì¢…ë¥˜ì—”-ì–´ë–¤ê²Œ-ìˆëŠ”ì§€-ì„¤ëª…í•˜ì‹œì˜¤": "/4a1becfc-9139-fbe2-ee07-67ed68e3de10", 
        
        "swift-deferê°€-í˜¸ì¶œë˜ëŠ”-ìˆœì„œëŠ”-ì–´ë–»ê²Œ-ë˜ê³ -deferê°€-í˜¸ì¶œë˜ì§€-ì•ŠëŠ”-ê²½ìš°ë¥¼-ì„¤ëª…í•˜ì‹œì˜¤": "/f1365c28-8c8e-c33f-4627-b94b76d3985d", 
        
        "swift-deferë€-ë¬´ì—‡ì¸ì§€-ì„¤ëª…í•˜ì‹œì˜¤": "/d84661f1-c2b9-4d73-7977-f5678f0c90b1", 
        
        "ios-bounds-ì™€-frame-ì˜-ì°¨ì´ì ì„-ì„¤ëª…í•˜ì‹œì˜¤": "/221ef090-7f3a-cb99-5502-01ff6d90e6a6", 
        
        "ios-ì‹¤ì œ-ë””ë°”ì´ìŠ¤ê°€-ì—†ì„-ê²½ìš°-ê°œë°œ-í™˜ê²½ì—ì„œ-í• -ìˆ˜-ìˆëŠ”-ê²ƒê³¼-ì—†ëŠ”-ê²ƒì„-ì„¤ëª…í•˜ì‹œì˜¤": "/8dd56bf5-45ae-9862-dc40-fdc26b6c8e2b", 
        
        "ios-ì•±ì´-foregroundì—-ìˆì„-ë•Œì™€-backgroundì—-ìˆì„-ë•Œ-ì–´ë–¤-ì œì•½ì‚¬í•­ì´-ìˆë‚˜ìš”": "/2163eba4-0877-e153-25c7-2ea70a310db8", 
        
        "ios-ìƒíƒœ-ë³€í™”ì—-ë”°ë¼-ë‹¤ë¥¸-ë™ì‘ì„-ì²˜ë¦¬í•˜ê¸°-ìœ„í•œ-ì•±ë¸ë¦¬ê²Œì´íŠ¸-ë©”ì„œë“œë“¤ì„-ì„¤ëª…í•˜ì‹œì˜¤": "/d30afc77-e653-1750-2441-cb8efaf43483", 
        
        "ios-nsoperationqueue-ì™€-gcd-queue-ì˜-ì°¨ì´ì ì„-ì„¤ëª…í•˜ì‹œì˜¤": "/7a5cb9b6-0365-2deb-31ac-8867bdb3184a", 
        
        "ios-gcd-api-ë™ì‘-ë°©ì‹ê³¼-í•„ìš”ì„±ì—-ëŒ€í•´-ì„¤ëª…í•˜ì‹œì˜¤": "/ad09382f-5f7c-c0d8-7b8a-67428b4dbd0b", 
        
        "ios-í† ì´-í”„ë¡œì íŠ¸-í•˜ë©´ì„œ-ì•Œê²Œëœ-ì ": "/68384391-8118-fa64-f551-b01da879d361", 
        
        "ios-foundation-kitì€-ë¬´ì—‡ì´ê³ -í¬í•¨ë˜ì–´-ìˆëŠ”-í´ë˜ìŠ¤ë“¤ì€-ì–´ë–¤-ê²ƒì´-ìˆëŠ”ì§€-ì„¤ëª…í•˜ì‹œì˜¤": "/25571d26-a348-8ff2-6398-a899add33df3", 
        
        "ios-notificationcenter-ë™ì‘-ë°©ì‹ê³¼-í™œìš©-ë°©ì•ˆì—-ëŒ€í•´-ì„¤ëª…í•˜ì‹œì˜¤": "/7770f268-14af-f587-7771-54a2bb9a57b4", 
        
        "ios-í•˜ë‚˜ì˜-view-controller-ì½”ë“œì—ì„œ-ì—¬ëŸ¬-tableview-controller-ì—­í• ì„-í•´ì•¼-í• -ê²½ìš°-ì–´ë–»ê²Œ-êµ¬ë¶„í•´ì„œ-êµ¬í˜„í•´ì•¼-í•˜ëŠ”ì§€-ì„¤ëª…í•˜ì‹œì˜¤": "/ba700875-ce39-9567-5a76-b69390ff8828", 
        
        "ios-app-bundleì˜-êµ¬ì¡°ì™€-ì—­í• ì—-ëŒ€í•´-ì„¤ëª…í•˜ì‹œì˜¤": "/35d80db8-e942-f7d2-f087-31cd5bde82ba", 
        
        "ios-view-ê°ì²´ì—-ëŒ€í•´-ì„¤ëª…í•˜ì‹œì˜¤": "/b67ff6f6-143a-2760-26a4-81efbd235844", 
        
        "ios-uiview-ì—ì„œ-layer-ê°ì²´ëŠ”-ë¬´ì—‡ì´ê³ -ì–´ë–¤-ì—­í• ì„-ë‹´ë‹¹í•˜ëŠ”ì§€-ì„¤ëª…í•˜ì‹œì˜¤": "/1cae6cc6-f26e-8a4a-f9c6-a6f0e1ad5277", 
        
        "ios-ì•±ì´-ì‹œì‘í• -ë•Œ-main-c-ì—-ìˆëŠ”-uiapplicationmain-í•¨ìˆ˜ì—-ì˜í•´ì„œ-ìƒì„±ë˜ëŠ”-ê°ì²´ëŠ”-ë¬´ì—‡ì¸ê°€": "/7e14cff5-8a2d-81a5-05f7-de775ca4ad96", 
        
        "ios-ëª¨ë“ -view-controller-ê°ì²´ì˜-ìƒìœ„-í´ë˜ìŠ¤ëŠ”-ë¬´ì—‡ì´ê³ -ê·¸-ì—­í• ì€-ë¬´ì—‡ì¸ê°€": "/b5bbb478-501f-7d48-0876-a8a3c779bbc5", 
        
        "ios-ì•±ì˜-ì½˜í…ì¸ ë‚˜-ë°ì´í„°-ìì²´ë¥¼-ì €ì¥-ë³´ê´€í•˜ëŠ”-íŠ¹ë³„í•œ-ê°ì²´ë¥¼-ë¬´ì—‡ì´ë¼ê³ -í•˜ëŠ”ê°€": "/4880a67e-ed38-69de-b858-ce92985e8df0", 
        
        "ios-ì•±-í™”ë©´ì˜-ì½˜í…ì¸ ë¥¼-í‘œì‹œí•˜ëŠ”-ë¡œì§ê³¼-ê´€ë¦¬ë¥¼-ë‹´ë‹¹í•˜ëŠ”-ê°ì²´ë¥¼-ë¬´ì—‡ì´ë¼ê³ -í•˜ëŠ”ê°€": "/6f6c96ec-db60-3f68-0158-dca30f046316", 
        
        "ios-swiftì˜-í´ë¡œì €ì™€-objective-cì˜-ë¸”ë¡ì€-ì–´ë–¤-ì°¨ì´ê°€-ìˆëŠ”ê°€": "/486edc27-d3f9-bed4-099e-f5983ff97baa", 
        
        "ios-ìŠ¤í† ë¦¬ë³´ë“œë¥¼-ì´ìš©í–ˆì„ë•Œì˜-ì¥ë‹¨ì ì„-ì„¤ëª…í•˜ì‹œì˜¤": "/c5dfccf5-2b57-6f88-4b0b-c6b25bd2a68d", 
        
        "ios-app-thinningì—-ëŒ€í•´ì„œ-ì„¤ëª…í•˜ì‹œì˜¤": "/aa6857a4-84f0-a3e2-a738-64d58b0cd9c5", 
        
        "ios-global-dispatchqueue-ì˜-qos-ì—ëŠ”-ì–´ë–¤-ì¢…ë¥˜ê°€-ìˆëŠ”ì§€-ê°ê°-ì–´ë–¤-ì˜ë¯¸ì¸ì§€-ì„¤ëª…í•˜ì‹œì˜¤": "/cd5e1f4f-8164-94cf-a774-bbc775a38cd7", 
        
        "ios-hugging-resistanceì—-ëŒ€í•´ì„œ-ì„¤ëª…í•˜ì‹œì˜¤": "/1aa547a5-41c4-8dd1-b435-17560674ca3a", 
        
        "ios-understanding-auto-layout": "/1ef8e42c-7d55-bc67-cbce-85cd58b7a910", 
        
        "ios-left-constraint-ì™€-leading-constraint-ì˜-ì°¨ì´ì ì„-ì„¤ëª…í•˜ì‹œì˜¤": "/1cf039e2-3425-0ddb-02e8-a054c8a9f7b9", 
        
        "ios-arcë€-ë¬´ì—‡ì¸ì§€-ì„¤ëª…í•˜ì‹œì˜¤": "/b7fdc0a7-7a2a-81cf-ce06-b66f06945afb", 
        
        "ios-anatomy-of-a-constraint": "/91779299-b1d8-f752-efbb-bebf18b9b997", 
        
        "swift-strong-ê³¼-weak-ì°¸ì¡°-ë°©ì‹ì—-ëŒ€í•´-ì„¤ëª…í•˜ì‹œì˜¤": "/7c62d9b2-06d5-65d7-6898-1046353eebd0", 
        
        "ios-contacts-í”„ë ˆì„ì›Œí¬-í†ºì•„ë³´ê¸°": "/8b0a4b90-250f-9ea1-905c-c5c6ffd0f9cc", 
        
        "objective-c-arc-ëŒ€ì‹ -manual-reference-count-ë°©ì‹ìœ¼ë¡œ-êµ¬í˜„í• -ë•Œ-ê¼­-ì‚¬ìš©í•´ì•¼-í•˜ëŠ”-ë©”ì„œë“œë“¤ì„-ì“°ê³ -ì—­í• ì„-ì„¤ëª…í•˜ì‹œì˜¤": "/cddfe26b-169d-567a-5382-8ae53ec547e2", 
        
        "objective-c-retain-ê³¼-assign-ì˜-ì°¨ì´ì ì„-ì„¤ëª…í•˜ì‹œì˜¤": "/22f59356-46ea-4d5a-030f-e9a600736722", 
        
        "swift-ê°•í•œ-ìˆœí™˜-ì°¸ì¡°-strong-reference-cycle-ëŠ”-ì–´ë–¤-ê²½ìš°ì—-ë°œìƒí•˜ëŠ”ì§€-ì„¤ëª…í•˜ì‹œì˜¤": "/0e5f64f9-ad6d-a804-3131-2c3b871c78f1", 
        
        "objective-c-autorelease-poolì„-ì‚¬ìš©í•´ì•¼-í•˜ëŠ”-ìƒí™©ì„-ë‘-ê°€ì§€-ì´ìƒ-ì˜ˆë¡œ-ë“¤ì–´-ì„¤ëª…í•˜ì‹œì˜¤": "/f61fef68-7386-ba55-b341-d15ea08393d4", 
        
        "objective-c-íŠ¹ì •-ê°ì²´ë¥¼-autorelease-í•˜ê¸°-ìœ„í•´-í•„ìš”í•œ-ì‚¬í•­ê³¼-ê³¼ì •ì„-ì„¤ëª…í•˜ì‹œì˜¤": "/8c462797-aaee-445d-efdc-b532b964984f", 
        
        "swift-mutating-í‚¤ì›Œë“œì—-ëŒ€í•´-ì„¤ëª…í•˜ì‹œì˜¤": "/844246b6-6f5f-10ac-344c-ad6a72e16681", 
        
        "ios-ì•±ì´-in-active-ìƒíƒœê°€-ë˜ëŠ”-ì‹œë‚˜ë¦¬ì˜¤ë¥¼-ì„¤ëª…í•˜ì‹œì˜¤": "/ebf8366a-b1c6-8312-3390-591d37f51f88", 
        
        "ios-scene-delegateì—-ëŒ€í•´-ì„¤ëª…í•˜ì‹œì˜¤": "/1da5c7c4-77b5-078d-7d51-cb4af2a594be", 
        
        "swift-delegateë€-ë¬´ì–¸ì¸ê°€-ì„¤ëª…í•˜ê³ -retain-ë˜ëŠ”ì§€-ì•ˆë˜ëŠ”ì§€-ê·¸-ì´ìœ ë¥¼-í•¨ê»˜-ì„¤ëª…í•˜ì‹œì˜¤": "/b859a722-c185-18ca-40e3-ff2874327645", 
        
        "ios-uikit-í´ë˜ìŠ¤ë“¤ì„-ë‹¤ë£°-ë•Œ-ê¼­-ì²˜ë¦¬í•´ì•¼í•˜ëŠ”-ì• í”Œë¦¬ì¼€ì´ì…˜-ì“°ë ˆë“œ-ì´ë¦„ì€-ë¬´ì—‡ì¸ê°€": "/3298b635-b078-7690-5cf0-2c5ad08df3f1", 
        
        "ios-ì˜¤í† ë ˆì´ì•„ì›ƒì„-ì½”ë“œë¡œ-ì‘ì„±í•˜ëŠ”-ë°©ë²•ì€-ë¬´ì—‡ì¸ê°€-3ê°€ì§€": "/31b7b10d-02ae-8cf6-064d-5bfb2cc11000", 
        
        "ios-ì˜¤í† -ë ˆì´ì•„ì›ƒ-ê¸°ë°˜-ë·°ì—-cornerradius-ì ìš©í•˜ê¸°": "/a3a7ad89-8247-c3be-a830-793149274df0", 
        
        "ios-ì½”ë“œë¡œ-ë²„íŠ¼ì—-ì´ë¯¸ì§€ì™€-í…ìŠ¤íŠ¸-ë„£ê¸°": "/a1e1ff84-afb9-3cd4-779b-ffac01f78ed8", 
        
        "ios-uiview-cliptoboundsì™€-layer-maskstobounds": "/10a55411-2e65-1d24-1465-93b6a7ef8317", 
        
        "ios-ì»¬ë ‰ì…˜ë·°-ìµœìƒë‹¨ìœ¼ë¡œ-ì´ë™í•˜ê¸°": "/794a8fe6-1bd9-f907-b97f-5c8d58f174c9", 
        
        "ios-ì»¤ìŠ¤í…€-ì…€-ì ìš©í•˜ê¸°": "/e6ad015d-77c7-a653-dd35-5830c489dcd0", 
        
        "layoutmarginguide-safelayoutguide": "/0f24fcbb-ce52-e617-1f35-7592cc832513", 
        
        "ios-ë„¤ë¹„ê²Œì´ì…˜-íƒ€ì´í‹€-ë³€ê²½": "/a0ff24e0-518a-643b-b9e1-4d0f26ae6faa", 
        
        "ios-ë·°ì˜-ê·¸ë¦¼ì-ë§Œë“¤ê¸°": "/8f337062-db00-d89b-5151-0e2eec7ebf30", 
        
        "ios-ìŠ¤í† ë¦¬ë³´ë“œì—†ì´-ì½”ë“œë¡œ-ê°œë°œí•˜ê¸°": "/8e6f8bf9-13fb-aef8-f6d5-701c02bc7ec2", 
        
        "swift-ê¸ì •ì ì¸-guard-ì‚¬ìš©": "/21b56994-cc18-9f41-e982-cf9735b9d345", 
        
        "rxswift-í•™ìŠµ-ì •ë¦¬": "/116c4063-ed05-65d1-2e79-b2024a9706cb", 
        
        "rxswift-completable": "/fc8764e8-1faa-3b9c-2220-92d0898700d0", 
        
        "rxswift-maybe": "/438a434c-e450-d3d8-a28c-3dbf1aed01f3", 
        
        "rxswift-single": "/22b54afe-9f09-0d87-860f-a50de5b642ae", 
        
        "rxswift-uitextfield-textì˜-ë³€ê²½ì„-ê°ì§€í•˜ì§€-ëª»í• -ë•Œ": "/71f3e025-53b0-9a83-78df-fbf9c5bba6f6", 
        
        "ios-wwdc2021-meet-async-await-in-swift": "/d749ec3d-86c8-8b21-144b-74fa7b69819a", 
        
        "ios-uimenu-ì‚¬ìš©í•´ë³´ê¸°": "/175c0e8e-dcc4-2838-4b58-30c0ac22f9e4", 
        
        "ios-ì˜¤ë””ì˜¤-ë…¹ìŒ-ì¬ìƒ-ì €ì¥í•˜ê¸°": "/b3ea49d4-8f7a-b9e0-2427-fd3b1e243fd8", 
        
        "ios-userdefaults-keychain-core-data": "/3efa3d59-c701-1158-7923-59270f51357b", 
        
        "ios-uistackview": "/5b441ad2-f77c-e2c0-5787-e4ed4138ec3c", 
        
        "book-ë¦¬ëˆ…ìŠ¤-ì…ë¬¸ìë¥¼-ìœ„í•œ-ëª…ë ¹ì–´-ì‚¬ì „": "/bc24663e-8037-285f-8159-94f8b91384e1", 
        
        "shell-script-í„°ë¯¸ë„ì—ì„œ-ëª…ë ¹ì–´ë¡œ-ë§ˆí¬ë‹¤ìš´-íŒŒì¼-ë§Œë“¤ê¸°": "/1114d9a9-1eb1-1bf3-4819-6612d416beda", 
        
        "design-pattern-repository-íŒ¨í„´": "/e41ac27e-0ce9-c443-2af4-7ceef30ec815", 
        
        "rxswift-rxswiftext-ì¼ë¶€-ì—°ì‚°ì-ì •ë¦¬": "/847e6d25-0406-9f55-65ea-71fe4ead4c2f", 
        
        "book-ì²˜ìŒ-ë°°ìš°ëŠ”-í”Œë¼ìŠ¤í¬-ì›¹-í”„ë¡œê·¸ë˜ë°": "/a2ed4fc7-e0f5-7e9d-802f-0ef7e6a021d5", 
        
        "wwdc2019-making-apps-with-core-data": "/0ce0a0ce-7b54-a57c-bd4d-8ccad29cc898", 
        
        "book-í•¨ê»˜-ìë¼ê¸°": "/7900102b-dad3-42b6-e1ff-bf18525660b2", 
        
        "xctest-ë¹„ë™ê¸°-ë©”ì„œë“œ-í…ŒìŠ¤íŠ¸í•˜ê¸°": "/ad1f874e-3ce1-2b9e-9b8e-bd8121e49b50", 
        
        "book-ì œëŒ€ë¡œ-ë°°ìš°ëŠ”-ìˆ˜í•™ì -ìµœì í™”": "/65ef6f13-238e-376b-c5d8-423601f482a5", 
        
        "ios-ì»¬ë ‰ì…˜ë·°ì—-ë±ƒì§€-ì¶”ê°€í•˜ê¸°": "/354752f2-0c01-5d34-7214-bacd077e4153", 
        
        "ios-ì‚¬ì§„-ì´¬ì˜-ê¸°ëŠ¥-êµ¬í˜„í•˜ê¸°": "/ad896c4a-9cb1-57eb-6f2d-ed0f91110a7f", 
        
        "ios-ì»¤ìŠ¤í…€-í°íŠ¸-ì ìš©í•˜ê¸°-with-dynamic-type": "/087cf713-71b1-fed1-92de-eb4eb894c0d4", 
        
        "ios-ì›í•˜ëŠ”-ìœ„ì¹˜ì˜-ì…€ë¡œ-ì´ë™": "/af9b3263-31b2-74e1-2656-1c20982834e6", 
        
        "swift-ì¤‘ì²©-í´ë¡œì €ì˜-ìº¡ì²˜-ë¦¬ìŠ¤íŠ¸": "/6e52590c-ff19-5ed6-6c98-ea043d0ef93a", 
        
        "xcode-ì‹œë®¬ë ˆì´í„°ê°€-í‘œì‹œë˜ì§€-ì•Šì„-ë•Œ": "/5a1edbef-5c3a-9582-4689-be1c9860dc57", 
        
        "rxswift-throttle-debounce": "/255d538c-8044-4bbd-05a9-c125b5d505ee", 
        
        "í¬ìŠ¤íŠ¸ì˜-ìƒì„±-ì‹œê°„-ë§ˆì§€ë§‰-ìˆ˜ì •-ì‹œê°„-êµ¬í•˜ê¸°": "/7de6818f-99cb-bdf9-8bb2-92c51770076e", 
        
        "ios-moya-ì‚¬ìš©ë²•": "/1ff142a9-0d9f-cb69-7893-6ed85e7501cc", 
        
        "book-ë™ì‹œì„±-í”„ë¡œê·¸ë˜ë°": "/565ee835-604a-3913-13cd-7dd4e83143ef", 
        
        "swift-writing-high-performance-swift-code": "/34dea93e-05e9-9d47-f058-328b54789fd3", 
        
        "ios-swift-package-ë§Œë“¤ê¸°": "/b6e7d281-7f11-d868-7945-9704afcaccaa", 
        
        "íšŒì‚¬-í”„ë¡œì íŠ¸ì—-swiftgen-ë„ì…ê¸°": "/3acba79d-c253-a833-0fb8-9534af3cdffc", 
        
        "book-ê¸°ì—…ì˜-ì„±ê³µì„-ì´ë„ëŠ”-developer-relations": "/f61f3b71-2fcb-fb9c-5bf6-8695576b8ada", 
        
        "íšŒì‚¬-í”„ë¡œì íŠ¸ì—-swiftlint-ë„ì…ê¸°": "/98e2a8e5-c76c-0e4c-0d1c-d9c4ae71426c", 
        
        "ios-reactorkit": "/10bb6466-6b17-6b9d-fcc7-09e3f262cdb1", 
        
        "ios-live-activity": "/dda861ad-c5d0-9e0b-e516-e0ea209f7761", 
        
        "í”¼-ë•€-ë¦¬ì…‹": "/765e8330-4b2a-eaae-e63c-53809a9db388", 
        
        "ios-dateformatter-ëŠ”-ë¹„ì‹¸ë‹¤": "/e8ed064c-4163-90c1-170a-a1d09ecb6748", 
        
        "book-ì ì •-ì†Œí”„íŠ¸ì›¨ì–´-ì•„í‚¤í…ì²˜": "/14542ed1-ffb9-c062-5b3a-828755257d2b", 
        
        "í•œ-ì»´í“¨í„°ì—-github-ê³„ì •-ì—¬ëŸ¬ê°œ-ì“°ê¸°": "/0356f2ee-7e47-af38-047f-c9f13e392d73", 
        
        "02ì¥-urlê³¼-ë¦¬ì†ŒìŠ¤": "/720b3660-1039-0fc7-54a4-48facfcfda5c", 
        
        "03ì¥-http-ë©”ì‹œì§€": "/2715b8ab-d021-6bef-7140-3387cd6c23fc", 
        
        "04ì¥-ì»¤ë„¥ì…˜-ê´€ë¦¬": "/40967902-b9d0-ed9e-7abd-8eb094e6c226", 
        
        "05ì¥-ì›¹-ì„œë²„": "/4757f83b-b230-ecd5-01f0-03a532907199", 
        
        "06ì¥-í”„ë½ì‹œ": "/b1fec897-d012-3803-4224-a1fac06a14c4", 
        
        "07ì¥-ìºì‹œ": "/56808a7e-abd1-979f-c7f9-fc2a81ce05ca", 
        
        "10ì¥-http-2-0": "/a976befd-aad6-2cc0-f1bd-650205528f98", 
        
        "11ì¥-í´ë¼ì´ì–¸íŠ¸-ì‹ë³„ê³¼-ì¿ í‚¤": "/820b29f3-5dd3-ec36-ff7d-46b2e110a122", 
        
        "12ì¥-ê¸°ë³¸-ì¸ì¦": "/66a1b5e5-9448-4476-c36b-1c1d8b77d079", 
        
        "14ì¥-ë³´ì•ˆ-http": "/e2f40fd5-9d83-5d33-3945-d93010f32ce0", 
        
        "01ì¥-http-ê°œê´€": "/1342bd24-dee7-d8f6-b63c-909e6e026b54", 
        
        "15ì¥-ì—”í„°í‹°ì™€-ì¸ì½”ë”©": "/e4f6b6ab-b3f5-5b26-2ff7-5df8e3a303a0", 
        
        "16ì¥-êµ­ì œí™”": "/c7c60c25-9bf8-d3ea-3d0a-0cc7a44a96f1", 
        
        "17ì¥-ë‚´ìš©-í˜‘ìƒê³¼-íŠ¸ëœìŠ¤ì½”ë”©": "/e064e862-9f12-7734-dbbd-b18a7676aa6a", 
        
        "about": "/19dc863e-9942-eee3-ea3c-0b5f9245dcfb", 
        
        "github-action-ì—ì„œ-íŠ¹ì •-label-ì´-ë¶™ì€-pr-ê±´ë„ˆë›°ê¸°": "/0654680d-f102-7159-d06c-99f2e46aa34e", 
        
        "http-ì™„ë²½-ê°€ì´ë“œ": "/35d2bb9e-3cea-3de7-4405-27f2965e2716", 
        
        "identifiable": "/23541f6b-c82d-d953-2284-dde1ad84ec46", 
        
        "spm-íŒ¨í‚¤ì§€-dependency-ì„¤ì •í•˜ê¸°": "/c7df7494-6ac2-77d5-5367-d34e3b260d71", 
        
        "safe-area-ë¥¼-ë³€ê²½í•˜ë ¤ë©´": "/7cfc1bcf-a5a7-b153-4d67-19da5e04a55c", 
        
        "tabview-scrollview": "/a6f7c741-4d45-d56e-7c60-aea6037ccc1a", 
        
        "root": "/a2bc19f8-43a2-68d3-81ae-3d280c221d20", 
        
        "wiki": "/wiki/root-index/", 
        
        "thread-safetyí•œ-ì‹±ê¸€í†¤": "/dcded7c6-5ce0-ebca-6536-e7323d041de4", 
        
        "ì™¸ë¶€-cocoapods-ë¼ì´ë¸ŒëŸ¬ë¦¬-spm-ìœ¼ë¡œ-ë°°í¬í•˜ê¸°": "/1339c97d-6732-f545-94d4-6a7453b9e1b2", 
        
        "ìì‹-ë·°-ì»¨íŠ¸ë¡¤ëŸ¬ì—-ì´ë²¤íŠ¸ê°€-ì „íŒŒë˜ì§€-ì•ŠìŒ": "/641670cf-215e-936c-44df-1d00acf50e2f", 
        
        "í•˜ê¸°-ì‹«ì€-ì¼ì€-ì‘ê²Œ-ë‚˜ëˆ„ê¸°": "/7c3093ec-e4ac-31f8-b22e-08c817377f1d"
        
    }
    </script>
        
    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- ì°¸ê³ : https://jekyllrb.com/docs/liquid/filters/ -->
    <title>[WWDC2019] Making Apps with Core Data - ğŸŒ©ï¸ ë¨¹êµ¬ë¦„</title>

    <meta name="description" content="">
    <meta name="google-site-verification" content="xD2UvBTOH6xxBi9MseahHz4Nt9u2vYZbgY2wVo7Bdyc" />

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://localhost:4000/0ce0a0ce-7b54-a57c-bd4d-8ccad29cc898">
    <link rel="alternate" type="application/rss+xml" title="ğŸŒ©ï¸ ë¨¹êµ¬ë¦„" href="http://localhost:4000/feed.xml" />

    <meta property="og:type" content="website">
    <meta property="og:title" content="[WWDC2019] Making Apps with Core Data">
    <meta property="og:description" content="">
    <meta property="og:image" content="http://localhost:4000/resource/johngrib.png">
    <meta property="og:url" content="http://localhost:4000/0ce0a0ce-7b54-a57c-bd4d-8ccad29cc898">

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:url" content="http://localhost:4000/0ce0a0ce-7b54-a57c-bd4d-8ccad29cc898" />
    <meta name="twitter:title" content="[WWDC2019] Making Apps with Core Data" />
    <meta name="twitter:description" content="" />

    <link rel="apple-touch-icon" sizes="57x57"        href="/resource/icon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60"        href="/resource/icon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72"        href="/resource/icon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76"        href="/resource/icon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114"      href="/resource/icon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120"      href="/resource/icon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144"      href="/resource/icon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152"      href="/resource/icon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180"      href="/resource/icon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/resource/icon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32"   href="/resource/icon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96"   href="/resource/icon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16"   href="/resource/icon/favicon-16x16.png">
    <link rel="manifest" href="/resource/icon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/resource/icon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">


    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=SAMPLE-VALUE"></script>
    <script>
        // https://gist.github.com/chrisveness/43bcda93af9f646d083fad678071b90a
        async function aesGcmDecrypt(ciphertext, password) {
            const pwUtf8 = new TextEncoder().encode(password);
            const pwHash = await crypto.subtle.digest('SHA-256', pwUtf8);
            const iv = ciphertext.slice(0,24).match(/.{2}/g).map(byte => parseInt(byte, 16));
            const alg = { name: 'AES-GCM', iv: new Uint8Array(iv) };
            const key = await crypto.subtle.importKey('raw', pwHash, alg, false, ['decrypt']);
            const ctStr = atob(ciphertext.slice(24));
            const ctUint8 = new Uint8Array(ctStr.match(/[\s\S]/g).map(ch => ch.charCodeAt(0)));
            const plainBuffer = await crypto.subtle.decrypt(alg, key, ctUint8);
            const plaintext = new TextDecoder().decode(plainBuffer);
            return plaintext;
        }
        async function aesGcmEncrypt(plaintext, password) {
            const pwUtf8 = new TextEncoder().encode(password);
            const pwHash = await crypto.subtle.digest('SHA-256', pwUtf8);
            const iv = crypto.getRandomValues(new Uint8Array(12));
            const alg = { name: 'AES-GCM', iv: iv };
            const key = await crypto.subtle.importKey('raw', pwHash, alg, false, ['encrypt']);
            const ptUint8 = new TextEncoder().encode(plaintext);
            const ctBuffer = await crypto.subtle.encrypt(alg, key, ptUint8);
            const ctArray = Array.from(new Uint8Array(ctBuffer));
            const ctStr = ctArray.map(byte => String.fromCharCode(byte)).join('');
            const ctBase64 = btoa(ctStr);
            const ivHex = Array.from(iv).map(b => ('00' + b.toString(16)).slice(-2)).join('');
            return ivHex+ctBase64;
        }

        aesGcmDecrypt('THIS-IS-SAMPLE-VALUE', 'http://localhost:4000')
            .then(function(ua) {
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());
                gtag('config', ua);
                console.log('The gtag config has been finished.');
            })
            .catch(function(error) {
                console.log(error);
                console.log('The gtag id is invalid.');
            });
    </script>



</head>
<header class="header">
    <div>
        <a class="site-title emoji" href="/">ğŸŒ©ï¸ ë¨¹êµ¬ë¦„</a>
    </div>
    <div class="site-title-right-container">
        <a class="site-title-right" href="/about/">
            <span class="emoji">ğŸ‘»</span>
            <span> about</span>
        </a>
        <a class="site-title-right" id="random-button">
            <span class="emoji">ğŸ²</span>
            <span> random</span>
        </a>
        <a class="site-title-right" href="/wiki/root-index/">
            <span class="emoji">ğŸ—‚ï¸</span>
            <span> index</span>
        </a>
        <a class="site-title-right" href="/blog/">
            <span class="emoji">ğŸ’¾</span>
            <span> blog</span>
        </a>
        <a class="site-title-right" href="/tag/">
            <span class="emoji">ğŸ·ï¸</span>
            <span> tag</span>
        </a>
        <a class="site-title-right" href="/search">
            <span class="emoji">ğŸ”</span>
            <span> search</span>
        </a>
    </div>
</header>
<script async src="/js/shortcut.js"></script>

    <body>
        <div class="page-content">
            <div class="post">
                
<input type="hidden" id="thisName" value="/Making-Apps-with-Core-Data"/>
<div class="post">
    <header class="post-header">
        <h1 class="page-title">
            <a href="/0ce0a0ce-7b54-a57c-bd4d-8ccad29cc898"> [WWDC2019] Making Apps with Core Data </a>
        </h1>
    
        <div class="history-button">
            <p><a href="https://github.com/jwonylee/jwonylee.github.io/blame/master/_wiki//Making-Apps-with-Core-Data.md" target="_blank">created: 2021.09.16</a></p>
            <p><a href="https://github.com/jwonylee/jwonylee.github.io/blame/master/_wiki//Making-Apps-with-Core-Data.md" target="_blank">updated: </a></p>
            <p>
                <a href="https://github.com/jwonylee/jwonylee.github.io/edit/master/_wiki//Making-Apps-with-Core-Data.md">í¸ì§‘í•˜ê¸°</a>
                /
                <a href="https://github.com/jwonylee/jwonylee.github.io/issues/new?title=%5BWWDC2019%5D+Making+Apps+with+Core+Data&body=ì˜ê²¬ì„%20ë‚¨ê²¨ì£¼ì„¸ìš”">ì˜ê²¬ ë‚¨ê¸°ê¸°</a>
            </p>
        </div>

        <div id="parent-list"></div>



    <div class="post-tag">
    
</div>




    </header>
    <article class="post-content">
        <blockquote>
  <p><a href="https://developer.apple.com/videos/play/wwdc2019/230/">WWDC2019: Making Apps with Core Data</a>ë¥¼ ì‹œì²­í•˜ê³  ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤. ê°œì¸ ê²¬í•´ê°€ <del>ì•„ì£¼ ë§ì´</del> ë“¤ì–´ìˆìŠµë‹ˆë‹¤.</p>
</blockquote>

<h2 id="ìš”ì•½">ìš”ì•½</h2>

<ul>
  <li>Best Practiceë¥¼ ì¤‘ì ìœ¼ë¡œ Core Data ë¹ ë¥¸ ë³µìŠµ</li>
  <li>Core Dataë¥¼ ì‹œì‘í•˜ê³  ì‹¤í–‰í•˜ëŠ” ë°©ë²•</li>
  <li>ì•± ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì„¤ì •í•˜ëŠ” ë°©ë²•</li>
  <li><del>ì—¬ëŸ¬ ì½”ë””ë„¤ì´í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²• + í™•ì¥</del> â†’ ì´í•´ ëª»í•´ì„œ ìƒëµí•¨</li>
  <li>ëª‡ ê°€ì§€ ìœ ìš©í•œ í…ŒìŠ¤íŠ¸ íŒ</li>
</ul>

<h2 id="modeling-data">Modeling Data</h2>

<table>
  <thead>
    <tr>
      <th>ëª©ë¡ í™”ë©´</th>
      <th>ì‘ì„± í™”ë©´</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><img src="/assets/img/making-apps-with-core-data/image1.png" style="width: 300px" /></td>
      <td><img src="/assets/img/making-apps-with-core-data/image2.png" style="width: 300px" /></td>
    </tr>
  </tbody>
</table>

<p>ì˜ˆì œë¡œ ë‹¤ë£¨ëŠ” ì•±ì€ ì¼ë°˜ì ì¸ ë¸”ë¡œê¹… ì•±ê³¼ ìœ ì‚¬í•˜ë‹¤. íƒœê·¸ë¥¼ ì—¬ëŸ¬ ê°œ ì‘ì„±í•  ìˆ˜ ìˆê³ , ë¯¸ë””ì–´ë„ ì—¬ëŸ¬ ê°œ ì²¨ë¶€í•  ìˆ˜ ìˆë‹¤. ì´ì œ ë°ì´í„° êµ¬ì¡°ì— ëŒ€í•´ ìƒê°í•´ë³´ì.</p>

<p><img src="/assets/img/making-apps-with-core-data/image3.png" alt="ë°ì´í„° êµ¬ì¡°" /></p>

<p>ê°€ì¥ ë¨¼ì € ë– ì˜¤ë¥´ëŠ” ë°ì´í„°ëŠ” ê²Œì‹œë¬¼(<code class="language-plaintext highlighter-rouge">Post</code>)ì´ë‹¤. ë¯¸ë””ì–´ë„ ì—¬ëŸ¬ ê°œ ì²¨ë¶€í•  ìˆ˜ ìˆë‹¤ê³  í–ˆìœ¼ë‹ˆ, ì´ê²ƒë„ íƒ€ì…ì´ ë  ìˆ˜ ìˆê³ , íƒœê·¸ ì—­ì‹œ ë³„ë„ì˜ íƒ€ì…ì´ ë  ìˆ˜ ìˆë‹¤.
ê·¸ë¦¬ê³  ì—¬ê¸°ì„œ ë¯¸ë””ì–´ì˜ í¬ê¸°ê°€ ì—„ì²­ í´ ìˆ˜ ìˆìœ¼ë‹ˆê¹Œ ë³„ë„ë¡œ ì €ì¥í•œë‹¤. ì™œëƒí•˜ë©´ ëª©ë¡ì—ì„œ ì¸ë„¤ì¼ë§Œ í‘œì‹œí•˜ë©´ ë˜ë‹ˆê¹Œ ë” í° ë°ì´í„°ëŠ” ë”°ë¡œ ë³´ê´€í•œë‹¤ëŠ” ê±°ë‹¤.</p>

<blockquote>
  <p>ì¸ë„¤ì¼ê³¼ ì›ë³¸ ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ë³„ë„ì˜ ì—”í‹°í‹°ë¡œ ë¶„ë¦¬í•˜ëŠ” ê²Œ ì •ë§ íš¨ìœ¨ì ì¸ì§€(ë©”ëª¨ë¦¬ ì†Œëª¨ ì¸¡ë©´ì—ì„œ) í™•ì¸í•´ë³¼ í•„ìš”ê°€ ìˆëŠ”ë°, ì´ê±´ ë‚˜ì¤‘ì— í•´ë³´ê³  ì¶”ê°€í•˜ê±°ë‚˜ ë³„ë„ì˜ ê¸€ë¡œ ì‘ì„±í•  ì˜ˆì •</p>
</blockquote>

<p>ì´ë ‡ê²Œ êµ¬ì¡°ë¥¼ ìƒê°í–ˆìœ¼ë‹ˆ ì´ì œ Xcode ì—´ì–´ì„œ Core Data ëª¨ë¸ì„ ë§Œë“¤ì.</p>

<p><img src="/assets/img/making-apps-with-core-data/image4.png" alt="Core Data Model" /></p>

<p>ëª¨ë¸ êµ¬ì¡°ëŠ” ìœ„ì™€ ê°™ë‹¤. ë°ì´í„° ê°„ì˜ ê´€ê³„ë¥¼ ì‚´í´ë³´ì. ë¨¼ì €, <code class="language-plaintext highlighter-rouge">Attachment</code>ì™€ <code class="language-plaintext highlighter-rouge">ImageData</code>ëŠ” <code class="language-plaintext highlighter-rouge">1:1</code> ê´€ê³„ë‹¤. ì™œëƒí•˜ë©´ <code class="language-plaintext highlighter-rouge">Attachment</code>ëŠ” ì¸ë„¤ì¼(í¬ê¸°ê°€ ì‘ì€ ì´ë¯¸ì§€)ì´ê³ , <code class="language-plaintext highlighter-rouge">ImageData</code>ëŠ” ê·¸ì— ëŒ€ì‘í•˜ëŠ” ì›ë³¸ ì´ë¯¸ì§€ì´ê¸° ë•Œë¬¸ì´ë‹¤.</p>

<p>ê·¸ë ‡ê¸° ë•Œë¬¸ì— <code class="language-plaintext highlighter-rouge">Attachment</code>ê°€ ì‚­ì œë˜ë©´ <code class="language-plaintext highlighter-rouge">ImageData</code>ë„ ê°™ì´ ì‚­ì œë˜ì–´ì•¼ í•œë‹¤. <code class="language-plaintext highlighter-rouge">Attachment</code>â†’<code class="language-plaintext highlighter-rouge">ImageData</code>ì˜ Delete Ruleì€ <code class="language-plaintext highlighter-rouge">Cascade</code>ì´ë‹¤.</p>

<blockquote>
  <p>ë°˜ëŒ€ì˜ ê²½ìš°ì—” <code class="language-plaintext highlighter-rouge">Deny</code>ê°€ ì ì ˆí•  ê±° ê°™ë‹¤. <code class="language-plaintext highlighter-rouge">Attachment</code>ê°€ ë¶€ëª¨ ì—”í‹°í‹°ë¼ì„œ <code class="language-plaintext highlighter-rouge">ImageData</code>ë¥¼ ë°”ë¡œ ì‚­ì œ ëª»í•˜ê²Œë”?</p>
</blockquote>

<p>ê·¸ ë‹¤ìŒìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">Post</code>ì™€ <code class="language-plaintext highlighter-rouge">Attachment</code>ì˜ ê´€ê³„ëŠ” <code class="language-plaintext highlighter-rouge">1:N</code> ì´ë‹¤. ì•„ê¹Œ ìœ„ì—ì„œ ë°ì´í„° êµ¬ì¡°ë¥¼ ì–˜ê¸°í•  ë•Œ ê²Œì‹œë¬¼ì— ë¯¸ë””ì–´ë¥¼ ì—¬ëŸ¬ ê°œ ì²¨ë¶€í•  ìˆ˜ ìˆë‹¤ê³  í–ˆì—ˆê¸° ë•Œë¬¸ì´ë‹¤. ê²Œì‹œë¬¼ í•˜ë‚˜ì—ëŠ” ì—¬ëŸ¬ ê°œì˜ ë¯¸ë””ì–´ë¥¼ ì²¨ë¶€í•  ìˆ˜ ìˆì§€ë§Œ, ë¯¸ë””ì–´ëŠ” ê²Œì‹œë¬¼ í•˜ë‚˜ì—ë§Œ ì¢…ì†ë˜ë‹ˆê¹Œ <code class="language-plaintext highlighter-rouge">1:N</code> ì´ë‹¤.</p>

<p><code class="language-plaintext highlighter-rouge">Post</code>ì™€ <code class="language-plaintext highlighter-rouge">Tag</code> ê´€ê³„ëŠ”, "ê²Œì‹œë¬¼ì€ ì—¬ëŸ¬ ê°œì˜ íƒœê·¸ê°€ ìˆë‹¤."ì™€ "íƒœê·¸ëŠ” ì—¬ëŸ¬ ê°œì˜ í¬ìŠ¤íŠ¸ê°€ ìˆë‹¤."ë¥¼ ìƒê°í•˜ë©´ <code class="language-plaintext highlighter-rouge">N:M</code> ê´€ê³„ë¼ëŠ” ê±¸ ì•Œ ìˆ˜ ìˆë‹¤.</p>

<p>ì´ë ‡ê²Œ Managed Object Modelì„ ì •ì˜í•˜ê¸´ í–ˆëŠ”ë°, ëª¨ë¸ì„ ì‚¬ìš©í•˜ë ¤ë©´ ì•Œì•„ë‘¬ì•¼ í•˜ëŠ” ì ì´ ìˆë‹¤.</p>

<h2 id="the-core-data-stack">The Core Data Stack</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>í•œ ì¤„ ìš”ì•½:
Core Data Stackì€ Model, Context, Store coordinatorë¡œ êµ¬ì„±ë˜ì–´ ìˆê³ , ìš°ë¦¬(Apple)ê°€ ë„ˆí¬ ì“°ê¸° í¸í•˜ë¼ê³  Persistent containerë¼ê³  ì¶”ìƒí™”í•´ë†“ì€ ê±° ì¤„ ê±°ì•¼ ã…‹
</code></pre></div></div>

<p><img src="/assets/img/making-apps-with-core-data/image5.png" alt="The Core Data Stack" /></p>

<blockquote>
  <p>The model is required by aÂ PersistentStoreCoordinator,Â which as the name implies, isÂ responsible for managing ourÂ persistent stores.<br />
Most of the time, this is aÂ database that lives on the fileÂ system, though it's possible toÂ have many stores at once,Â including our own custom madeÂ types that derive fromÂ NSPersistentStore.Â Finally, the type that we'llÂ spend the most time with is theÂ ManagedObjectContext.</p>
</blockquote>

<p>ëª¨ë¸ì€ Core Data ê´€ë¦¬ë¥¼ ë‹´ë‹¹í•˜ëŠ” <code class="language-plaintext highlighter-rouge">PersistentStoreCoordinator</code>ê°€ í•„ìš”í•˜ë‹¤. ëŒ€ë¶€ë¶„ Store Coordinatorê°€ íŒŒì¼ ì‹œìŠ¤í…œì— ìˆëŠ” ë°ì´ë²„í…Œì´ìŠ¤ì¸ë°, <code class="language-plaintext highlighter-rouge">NSPersistentStore</code>ì— íŒŒìƒëœ ì»¤ìŠ¤í…€ íƒ€ì…ì„ í¬í•¨í•´ì„œ í•œ ë²ˆì— ë§ì€ ì €ì¥ì†Œë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤ê³  í•œë‹¤.</p>

<p>ê·¸ ë‹¤ìŒìœ¼ë¡œ ì•Œì•„ë‘¬ì•¼ í•˜ëŠ” ê±´ Managed Object Contextì¸ë°, ìš°ë¦¬ê°€ ê°€ì¥ ë§ì´ ì“°ëŠ” ê°ì²´ë‹¤.</p>

<p>Core DataëŠ” Command patternì„ ì‚¬ìš©í•œë‹¤. ëª…ë ¹ì„ ìˆ˜í–‰í•˜ë ¤ë©´ Contextê°€ í•„ìš”í•˜ë‹¤. fetch requestí•  ë•Œë„ Contextê°€ í•„ìš”í•˜ë‹¤. ê·¸ë¦¬ê³  ContextëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•˜ë ¤ë©´ Coordinatorë¥¼ ì•Œê³  ìˆì–´ì•¼ í•˜ê³  CoordinatorëŠ” Persistent Storeë¥¼ ì•Œê¸° ìœ„í•´ì„œ ëª¨ë¸ì„ ì•Œì•„ì•¼ í•œë‹¤.</p>

<p>Model - Context - Store Coordinator ê°€ ì„œë¡œ ìƒí˜¸ ì˜ì¡´ì ì¸ ê´€ê³„ë¼ëŠ” ëœ»ì´ë‹¤. ê·¸ë¦¬ê³  Appleì€ Persistent Containerë¼ëŠ” ì„¸ ê°œë¥¼ í†µí‹€ì–´ì„œ ìº¡ìŠí™”í•´ë†“ì€ íƒ€ì… ì œê³µí•œë‹¤. Persistent Containerë¥¼ ì“°ë©´ ìŠ¤íƒ ë³€ê²½í•˜ëŠ” ê²Œ ì‰¬ì›Œì§„ë‹¤. ì´ë¦„ë§Œ ì°¸ì¡°í•˜ë©´ ì•Œì•„ì„œ í•´ì¤€ë‹¤.</p>

<h2 id="configuring-managed-object-contexts">Configuring Managed Object Contexts</h2>

<p>ëª¨ë¸ì„ ì½”ë“œë¡œ ìƒì„±í•˜ê±°ë‚˜ ì—¬ëŸ¬ ì»¨í…Œì´ë„ˆì™€ í•¨ê»˜ ë™ì¼í•œ ëª¨ë¸ì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²½ìš° ì´ê±¸ ì œì–´í•  ìˆ˜ ìˆëŠ” ì´ë‹ˆì…œë¼ì´ì €ê°€ ìˆë‹¤.</p>

<blockquote>
  <p>Once we have a container, we tell it to load our persistent stores. The completion block gets called once per store with a nil error parameter on success, after which is time to shift our focus to managed object contexts. Contexts provide us with seamless access to managed data, and they have a few options that can make them even more useful to certain use cases, such as driving our views.</p>
</blockquote>

<p>Containerê°€ ìˆìœ¼ë©´ Persistent Storeë¥¼ ë¶ˆëŸ¬ì˜¤ë„ë¡ ì§€ì‹œí•œë‹¤. Completion Blockì€ ì„±ê³µí•˜ë©´ nil error parameterë¥¼ ì‚¬ìš©í•˜ì—¬ Storeë‹¹ í•œ ë²ˆ í˜¸ì¶œë˜ê³ , ê·¸ í›„ì—ëŠ” Managed Object Contextë¡œ ì´ˆì ì´ ì´ë™ëœë‹¤. ContextëŠ” Managed Dataì— ëŒ€í•œ ì›í™œí•œ ì ‘ê·¼ ë°©ì‹ì„ ì œê³µí•˜ê³ , íŠ¹ì • ì‚¬ìš© ì‚¬ë¡€ì— ìœ ìš©í•œ ëª‡ ê°€ì§€ ì˜µì…˜ì´ ìˆë‹¤.</p>

<h3 id="ì¿¼ë¦¬-ìƒì„±-ì§€ì›">ì¿¼ë¦¬ ìƒì„± ì§€ì›</h3>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span> <span class="n">container</span><span class="o">.</span><span class="n">viewContext</span><span class="o">.</span><span class="nf">setQueryGenerationFrom</span><span class="p">(</span><span class="sr">/assets/img/</span><span class="n">making</span><span class="o">-</span><span class="n">apps</span><span class="o">-</span><span class="n">with</span><span class="o">-</span><span class="n">core</span><span class="o">-</span><span class="n">datacurrent</span><span class="p">)</span>
</code></pre></div></div>

<p>Store Dataì˜ ì•ˆì •ì ì¸ ë·°ë¥¼ ì œê³µí•˜ì—¬ ë‹¤ë¥¸ í–‰ìœ„ìê°€ ë³€ê²½í•˜ê±°ë‚˜ ì‚­ì œí•œ ê²½ìš°ì—ë„ ê°ì²´ì— ì•ˆì „í•˜ê³  ì¼ê´€ëœ ì•¡ì„¸ìŠ¤ë¥¼ í—ˆìš©í•œë‹¤.</p>

<h3 id="ë³€ê²½-ì‚¬í•­ì„-ìµœì‹ -ìƒíƒœë¡œ-ìœ ì§€">ë³€ê²½ ì‚¬í•­ì„ ìµœì‹  ìƒíƒœë¡œ ìœ ì§€</h3>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">context</span><span class="o">.</span><span class="n">automaticallyMergesChangesFromParent</span> <span class="o">=</span> <span class="kc">true</span>
</code></pre></div></div>

<p>í˜•ì œ(?)ê°€ ë³€ê²½ ì‚¬í•­ì„ ì €ì¥í•  ë•Œ Contextë¥¼ ìµœì‹  ìƒíƒœë¡œ ìœ ì§€í•˜ë„ë¡ êµ¬ì„±í•œë‹¤.</p>

<h2 id="ï¸-ì¤‘ìš”í•œ-ì ">â­ï¸ ì¤‘ìš”í•œ ì </h2>

<p>Contextë¥¼ ì‚¬ìš©í•  ë•Œ ê¸°ì–µí•´ì•¼ í•  ê°€ì¥ ì¤‘ìš”í•œ ì ì€ <mark><b>ëª¨ë“  ì €ì¥ì†Œ ìš”ì²­ ë° Managed Objectì™€ì˜ ìƒí˜¸ ì‘ìš©ì´ Context ëŒ€ê¸°ì—´ ì•ˆì—ì„œ ìˆ˜í–‰ë˜ì–´ì•¼ í•œë‹¤</b></mark>ëŠ” ê²ƒì´ë‹¤.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">context</span><span class="o">.</span><span class="n">performAndWait</span> <span class="p">{</span>
    <span class="cm">/* Something */</span>
<span class="p">}</span>

<span class="n">context</span><span class="o">.</span><span class="n">perform</span> <span class="p">{</span>
    <span class="cm">/* Something */</span>
<span class="p">}</span>

<span class="n">container</span><span class="o">.</span><span class="n">performBackgroundTask</span> <span class="p">{</span> <span class="n">context</span> <span class="k">in</span>
    <span class="cm">/* Something */</span>
<span class="p">}</span>
</code></pre></div></div>

<p>backgroundContextì—ëŠ” ê°ê°ì— ê³ ìœ í•œ ëŒ€ê¸°ì—´(Queue)ì´ ìˆë‹¤. ê·¸ë˜ì„œ ì´ê±¸ ì‚¬ìš©í•˜ë ¤ë©´ APIê°€ í•„ìš”í•œë°, ìœ„ì™€ ê°™ì´ ë²„ì „ì´ ì—¬ëŸ¬ ê°œê°€ ìˆë‹¤.</p>

<p><code class="language-plaintext highlighter-rouge">context.performAndWait()</code>ì€ ë¸”ëŸ­ì„ ë™ê¸°ì ìœ¼ë¡œ ìˆ˜í–‰í•œë‹¤. <code class="language-plaintext highlighter-rouge">context.perform()</code>ì€ ë¸”ëŸ­ì„ ë¹„ë™ê¸°ì ìœ¼ë¡œ ìˆ˜í–‰í•œë‹¤. ì§„ì •í•œ ë¹„ë™ê¸° ì‘ì—…ì˜ ê²½ìš° ContainerëŠ” Background Contextë¥¼ ìƒì„±í•˜ê³  ë¸”ë¡ì´ ë°˜í™˜ë  ë•Œ ìë™ìœ¼ë¡œ íê¸°í•˜ëŠ” ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ìˆ˜í–‰ì„ ìœ„í•œ í¸ë¦¬í•œ ë°©ë²•ì´ ìˆê³ , ì´ê²Œ ë°”ë¡œ <code class="language-plaintext highlighter-rouge">performBackgroundTask()</code> ì´ë‹¤.</p>

<h2 id="apps-need-data">Apps Need Data</h2>

<p>ì•±ì˜ ë°ì´í„°ë¥¼ ì¶”ê°€í•´ë³´ì.</p>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">context</span><span class="o">.</span><span class="n">perform</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">post</span> <span class="o">=</span> <span class="kt">Post</span><span class="p">(</span><span class="nv">context</span><span class="p">:</span> <span class="n">context</span><span class="p">)</span>
    <span class="n">post</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s">"Hello, world!"</span>
    <span class="k">try</span><span class="p">?</span> <span class="n">context</span><span class="o">.</span><span class="nf">save</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ìœ„ ì½”ë“œëŠ” í•˜ë‚˜ì”© ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ëŠ” ì½”ë“œì´ë‹¤. ë§Œì•½ ìˆ˜ë°±, ìˆ˜ì²œ ê°œë¥¼ ì €ì¥í•´ì•¼ í•œë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ? ìœ„ì— ì²˜ëŸ¼ í•˜ë©´ ë¦¬ì†ŒìŠ¤ ì˜¤ë²„í—¤ë“œëŠ” ë¬¼ë¡ ì´ê³  ì½”ë“œë„ ì—„ì²­ ë§ì´ ì‘ì„±í•´ì•¼ í•œë‹¤.</p>

<h2 id="apps-need-more-data">Apps need <em>more</em> data!</h2>

<h3 id="batch-insertions">Batch Insertions</h3>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">rawPostsData</span><span class="p">:</span> <span class="kt">Data</span> <span class="o">=</span> <span class="c1">// Server response ...</span>
<span class="k">if</span> <span class="k">let</span> <span class="nv">postDicts</span> <span class="o">=</span> <span class="k">try</span><span class="p">?</span> <span class="kt">JSONSerialization</span><span class="o">.</span><span class="nf">jsonObject</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">rawPostsData</span><span class="p">)</span> <span class="k">as?</span> <span class="p">[[</span><span class="kt">String</span><span class="p">:</span> <span class="kt">Any</span><span class="p">]]</span> <span class="p">{</span>
	<span class="n">context</span><span class="o">.</span><span class="n">perform</span> <span class="p">{</span>
		<span class="k">let</span> <span class="nv">insertRequest</span> <span class="o">=</span> <span class="kt">NSBatchInsertRequest</span><span class="p">(</span><span class="nv">entity</span><span class="p">:</span> <span class="kt">Post</span><span class="o">.</span><span class="nf">entity</span><span class="p">(),</span> <span class="nv">objects</span><span class="p">:</span> <span class="n">postDicts</span><span class="p">)</span>
		<span class="k">let</span> <span class="nv">insertResult</span> <span class="o">=</span> <span class="k">try</span><span class="p">?</span> <span class="n">context</span><span class="o">.</span><span class="nf">execute</span><span class="p">(</span><span class="n">insertRequest</span><span class="p">)</span> <span class="k">as!</span> <span class="kt">NSBatchInsertRequest</span>
		<span class="k">let</span> <span class="nv">success</span> <span class="o">=</span> <span class="n">insertResult</span><span class="o">.</span><span class="n">result</span> <span class="k">as!</span> <span class="kt">Bool</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">rawPostsData</code>ì— 1000ê°œì˜ ê°ì²´ê°€ ë‹´ê²¨ìˆë‹¤ê³  ê°€ì •í•˜ê³  ë³´ì.</p>

<p>ë¨¼ì €, <code class="language-plaintext highlighter-rouge">[[String: Any]]</code> íƒ€ì…ìœ¼ë¡œ í˜•ë³€í™˜í•œë‹¤. ì—¬ê¸°ì„œ KeyëŠ” ëª¨ë¸ì˜ ì†ì„± ì´ë¦„ê³¼ ì¼ì¹˜í•´ì•¼ í•œë‹¤. Unique Constraintì™€ ê°™ì€ ê²Œ í•„ìš”í•˜ì§€ ì•Šìœ¼ë©´ ì¼ë¶€ ìƒëµ ê°€ëŠ¥í•˜ë‹¤.</p>

<p><img src="/assets/img/making-apps-with-core-data/image6.png" alt="JSON êµ¬ì¡°" /></p>

<p>ì´ ê²½ìš°ì—ëŠ” ì„¸ ê°œì˜ Dictionaryê°€ ë“¤ì–´ê°„ë‹¤.</p>

<p>ëª¨ë¸ì—ì„œ ê¸°ë³¸ ê°’ì„ êµ¬ì„±í•œ ê²½ìš°ì— Core Dataì—ì„œ ì´ë¥¼ ì‚¬ìš©í•œë‹¤.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">insertRequest</span> <span class="o">=</span> <span class="kt">NSBatchInsertRequest</span><span class="p">(</span><span class="nv">entity</span><span class="p">:</span> <span class="kt">Post</span><span class="o">.</span><span class="nf">entity</span><span class="p">(),</span> <span class="nv">objects</span><span class="p">:</span> <span class="n">postDicts</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">insertResult</span> <span class="o">=</span> <span class="k">try</span><span class="p">?</span> <span class="n">context</span><span class="o">.</span><span class="nf">execute</span><span class="p">(</span><span class="n">insertRequest</span><span class="p">)</span> <span class="k">as!</span> <span class="kt">NSBatchInsertRequest</span>
</code></pre></div></div>

<p>ì´ ë¶€ë¶„ì—ì„œ ì•„ê¹Œ ì–»ì€ Dictionary ë°°ì—´ ê°ì²´ë¥¼ ëª¨ë¸ ê°ì²´ ì—”í‹°í‹°ë¥¼ ì‚¬ìš©í•´ì„œ ì¼ê´„ ì‚½ì… ìš”ì²­í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“ ë‹¤. ê·¸ë¦¬ê³  <code class="language-plaintext highlighter-rouge">execute()</code>ë¥¼ í•˜ëŠ”ë° <code class="language-plaintext highlighter-rouge">NSBatchInsertRequest</code> íƒ€ì…ìœ¼ë¡œ ê²°ê³¼ë¬¼ì´ ë‚˜ì˜¨ë‹¤.</p>

<p>ì—¬ê¸°ì„œ ì•Œì•„ë‘¬ì•¼ í•˜ëŠ” ì </p>
<ul>
  <li>ê¸°ì¡´ ê°ì²´ì— Unique Constraintê°€ ìˆëŠ” ê²½ìš° â†’ ì™¸ë¶€ì—ì„œ ê°€ì ¸ì˜¨ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì œê±°ë˜ê³  ëŒ€ì‹  ìƒˆ ê°’ìœ¼ë¡œ ì—…ë°ì´íŠ¸ëœë‹¤.</li>
  <li>Batch Insertë¥¼ í•  ë•Œ ê´€ê³„ ì„¤ì •ì€ ëª»í•œë‹¤. ê·¸ëŸ°ë° Batch Insertê°€ Unique Constraintë¡œ ì¸í•´ ê¸°ì¡´ ê°ì²´ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ê²½ìš°ì—ëŠ” ê¸°ì¡´ ê´€ê³„ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ëœë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">contextDidSaveNotification</code>ì„ ìƒì„±í•˜ì§€ ì•ŠëŠ”ë‹¤. ì§ì ‘ ê´€ë¦¬ í•´ì•¼ í•œë‹¤.</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ì´ ë¶€ë¶„ ë³´ë©´ì„œ ë‹¹í™©í–ˆë˜ ì : ê´€ê³„ ì„¤ì • ëª»í•˜ëŠ” ê±° ìë‘ ì•„ë‹Œë°; ê·¸ëŸ¼ ë‹¤ë¥¸ í•´ê²°ì±…ì´ë¼ë„ ì œê³µí•´ì¤˜ì•¼ í•˜ëŠ” ê±° ì•„ë‹ˆì•¼???
</code></pre></div></div>

<h2 id="the-needs-of-the-controller">The needs of the Controller</h2>

<h3 id="ë°ì´í„°ë¥¼-ê°€ì ¸ì™€-í‘œì‹œí•˜ê¸°-fetch-data">ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ í‘œì‹œí•˜ê¸° (fetch data)</h3>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">fetchRequest</span><span class="p">:</span> <span class="kt">NSFetchRequest</span><span class="o">&lt;</span><span class="kt">Tag</span><span class="o">&gt;</span> <span class="o">=</span> <span class="kt">Tag</span><span class="o">.</span><span class="nf">fetchRequest</span><span class="p">()</span> <span class="c1">// 1</span>

<span class="n">fetchRequest</span><span class="o">.</span><span class="n">predicate</span> <span class="o">=</span> <span class="kt">NSPredicate</span><span class="p">(</span><span class="nv">format</span><span class="p">:</span> <span class="s">"name = %@"</span><span class="p">,</span> <span class="n">tagName</span><span class="p">)</span> <span class="c1">// 2</span>

<span class="k">if</span> <span class="k">let</span> <span class="nv">tag</span> <span class="o">=</span> <span class="k">try</span><span class="p">?</span> <span class="n">fetchREquest</span><span class="o">.</span><span class="nf">execute</span><span class="p">()</span><span class="o">.</span><span class="n">first</span> <span class="p">{</span>  <span class="c1">// 3</span>
	<span class="n">tagLabel</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">tag</span><span class="o">.</span><span class="n">name</span>  <span class="c1">// 4</span>
	<span class="n">tagLabel</span><span class="o">.</span><span class="n">textColor</span> <span class="o">=</span> <span class="n">tag</span><span class="o">.</span><span class="n">color</span> <span class="k">as?</span> <span class="kt">UIColor</span> <span class="c1">// 4</span>
<span class="p">}</span>
</code></pre></div></div>

<ol>
  <li>Managed Object í´ë˜ìŠ¤ì— <code class="language-plaintext highlighter-rouge">fetchRequest()</code>ë¼ëŠ” ë©”ì„œë“œê°€ ìˆë‹¤. ë¯¸ë¦¬ êµ¬ì„±ëœ fetch requestë¥¼ ì œê³µí•œë‹¤.</li>
  <li>predicateë¥¼ í†µí•´ í•„í„°ë§í•´ì„œ ë°ì´í„°ë¥¼ ì¶”ì¶œí•œë‹¤. ì´ ê²½ìš°ì—” name ì†ì„±ì„ ê°€ì§€ê³  í•„í„°ë§í•œë‹¤.</li>
  <li>requesetë¥¼ ì‹¤í–‰í•œë‹¤. ì—¬ê¸°ì„  ìš”ì²­í•œ ê±°ì—ì„œ ì²«ë²ˆì§¸ë§Œ ì¶”ì¶œí•œë‹¤.</li>
  <li>ë½‘ì€ ë°ì´í„°ë¡œ ë·°ë¥¼ êµ¬ì„±í•œë‹¤.</li>
</ol>

<p>ì—¬ê¸°ê¹Œì§€ëŠ” ë³€ê²½í•  ìˆ˜ ì—†ëŠ” ë°ì´í„°ì— ì í•©í•˜ë‹¤. ë§Œì•½ ë·°ê°€ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆ íƒœê·¸ì˜ ì´ë¦„ì´ë‚˜ ìƒ‰ìƒì´ ë³€ê²½ë˜ë©´? ê°ì²´ ì†ì„±ì´ ì—…ë°ì´íŠ¸ ë˜ê²Œ í•˜ë©´ ëœë‹¤. ì–´ë–»ê²Œ? KVOë‘ Combine ì“°ë©´ ëœë‹¤.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">fetchRequest</span><span class="p">:</span> <span class="kt">NSFetchRequest</span><span class="o">&lt;</span><span class="kt">Tag</span><span class="o">&gt;</span> <span class="o">=</span> <span class="kt">Tag</span><span class="o">.</span><span class="nf">fetchRequest</span><span class="p">()</span>

<span class="n">fetchRequest</span><span class="o">.</span><span class="n">predicate</span> <span class="o">=</span> <span class="kt">NSPredicate</span><span class="p">(</span><span class="nv">format</span><span class="p">:</span> <span class="s">"name = %@"</span><span class="p">,</span> <span class="n">tagName</span><span class="p">)</span>

<span class="k">if</span> <span class="k">let</span> <span class="nv">tag</span> <span class="o">=</span> <span class="k">try</span><span class="p">?</span> <span class="n">fetchREquest</span><span class="o">.</span><span class="nf">execute</span><span class="p">()</span><span class="o">.</span><span class="n">first</span> <span class="p">{</span>
	<span class="n">nameSubscription</span> <span class="o">=</span> <span class="n">tag</span><span class="o">.</span><span class="nf">publisher</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                            <span class="o">.</span><span class="nf">assign</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="nv">on</span><span class="p">:</span> <span class="n">tagLabel</span><span class="p">)</span>
	<span class="n">colorSubscription</span> <span class="o">=</span> <span class="n">tag</span><span class="o">.</span><span class="nf">publisher</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
                            <span class="o">.</span><span class="nf">map</span><span class="p">({</span> <span class="nv">$0</span> <span class="k">as?</span> <span class="kt">UIColor</span> <span class="p">})</span>
                            <span class="o">.</span><span class="nf">assign</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="n">textColor</span><span class="p">,</span> <span class="nv">on</span><span class="p">:</span> <span class="n">tagLabel</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>
<p>ì—¬ê¸°ì„  Combineì´ ì“°ì˜€ëŠ”ë° ì•„ë§ˆ RxSwift í˜¹ì€ Notification Centerë¡œ ë¹„ìŠ·í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆì„ ê±° ê°™ë‹¤. (ê·¸ë¦¬ê³  ë‚˜ëŠ” í”„ë¡œì íŠ¸ì—ì„œ RxSwift ì“°ë‹ˆê¹Œ ëª»í•´ë„ í•´ì•¼ í•¨ã…)</p>

<p>Detail Viewë¥¼ ìœ„í•œ êµ¬ì„±ë„ í•´ë³´ì.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="k">let</span> <span class="nv">tag</span> <span class="o">=</span> <span class="n">tag</span> <span class="p">{</span>
	<span class="n">nameSubscription</span> <span class="o">=</span> <span class="n">tag</span><span class="o">.</span><span class="nf">publisher</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                            <span class="o">.</span><span class="nf">assign</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="nv">on</span><span class="p">:</span> <span class="n">tagLabel</span><span class="p">)</span>
	
	<span class="n">colorSubscription</span> <span class="o">=</span> <span class="n">tag</span><span class="o">.</span><span class="nf">publisher</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
                            <span class="o">.</span><span class="nf">map</span><span class="p">({</span> <span class="nv">$0</span> <span class="k">as?</span> <span class="kt">UIColor</span> <span class="p">})</span>
                            <span class="o">.</span><span class="nf">assign</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="n">textColor</span><span class="p">,</span> <span class="nv">on</span><span class="p">:</span> <span class="n">tagLabel</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ì¼ë°˜ì ìœ¼ë¡œ Detail Viewì˜ ë¶€ëª¨ëŠ” CollectionView ë˜ëŠ” TableViewì´ë‹¤. ê·¸ë¦¬ê³  fetch requestì—ì„œ ê°ì²´ë¥¼ ê°€ì ¸ì˜¨ë‹¤.</p>

<p>ë§ì€ ê°ì²´ë¥¼ ê°€ì ¸ì˜¬ ë•Œ ì¤‘ìš”í•˜ì§€ë§Œ ì•„ì§ ì´ì•¼ê¸°í•˜ì§€ ì•Šì€ ë¶€ë¶„ì´ ìˆë‹¤. requestSortDescriptorsì™€ Batched fetching.</p>

<h4 id="requestsortdescriptors">requestSortDescriptors</h4>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fetchRequest</span><span class="o">.</span><span class="n">sortDescriptors</span> <span class="o">=</span> <span class="p">[</span><span class="kt">NSSortDescriptor</span><span class="p">(</span><span class="nv">key</span><span class="p">:</span> <span class="s">"name"</span><span class="p">,</span> <span class="nv">ascending</span><span class="p">:</span> <span class="kc">true</span><span class="p">)]</span>
</code></pre></div></div>

<p>fetch requestì˜ ê²°ê³¼ë¥¼ ì •ë ¬í•˜ëŠ” ê¸°ì¤€ì„ ì •ì˜í•œë‹¤.</p>

<h4 id="batched-fetching">Batched fetching</h4>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fetchRequest</span><span class="o">.</span><span class="n">fetchBatchSize</span> <span class="o">=</span> <span class="mi">50</span>
</code></pre></div></div>

<p>ê°€ì ¸ì˜¤ë ¤ëŠ” ê°ì²´ê°€ 1400ë§Œê°œë¼ê³  ê°€ì •í•´ë³´ì. ìš°ë¦¬ëŠ” ì´ê±¸ í•œêº¼ë²ˆì— ê°€ì ¸ì˜¬ í•„ìš”ê°€ ì—†ë‹¤. í™”ë©´ì—ì„œ 1400ë§Œê°œë¥¼ ë‹¤ ë³´ì—¬ì¤„ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì´ë‹¤. ê·¸ë˜ì„œ ë­ê°€ ìˆëƒë©´ batch sizeë¼ëŠ” ê²Œ ìˆë‹¤. í•œ ë²ˆì— ê°€ì ¸ì˜¤ë ¤ëŠ” ê°œìˆ˜ë¥¼ êµ¬ì„±í•˜ëŠ” í”„ë¡œí¼í‹°ë‹¤. ìœ„ ì½”ë“œëŠ” 1400ë§Œê°œë¥¼ í•œêº¼ë²ˆì— ê°€ì ¸ì˜¤ì§€ ë§ê³  50ê°œì”© ëŠì–´ì„œ ê°€ì ¸ì˜¨ë‹¤ëŠ” ëœ»ì´ë‹¤. ì•±ì˜ ì‘ë‹µì„±ì— í° ì°¨ì´ë¥¼ ë§Œë“ ë‹¤.</p>

<p>ë°©ê¸ˆ ê³µë¶€í•œ ê±°ë¡œ ëª¨ë“  íƒœê·¸ ê°€ì ¸ì˜¤ëŠ” ê±°? ì§± ì‰½ë‹¤. ê·¸ëŸ°ë° Detail Viewì— í‘œì‹œí•˜ëŠ” ê°ì²´ì˜ ì†ì„±ì´ ë³€ê²½ë˜ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ? ë‹¹ì—°íˆ ë³€ê²½ì ì— ë”°ë¼ì„œ ë°˜ì˜í•´ì¤˜ì•¼ í•œë‹¤. ì–´ë–»ê²Œ í•  ê±°ëƒë©´â€¦</p>

<p>Core DataëŠ” fetch results controller í˜•íƒœì˜ ë¼ì´ë¸Œ ì¿¼ë¦¬ë¥¼ ì§€ì›í•œë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ë³¸ì¸ë“¤ ë§ë¡œëŠ” `ìš´ ì¢‹ê²Œë„` ë¼ëŠ” í‘œí˜„ì„ ì“´ë‹¤. ë‹¹í™©ì“°
</code></pre></div></div>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">fetchRequest</span><span class="p">:</span> <span class="kt">NSFetchRequest</span><span class="o">&lt;</span><span class="kt">Post</span><span class="o">&gt;</span> <span class="o">=</span> <span class="kt">Post</span><span class="o">.</span><span class="nf">fetchRequest</span><span class="p">()</span>

<span class="n">fetchRequest</span><span class="o">.</span><span class="n">sortDescriptors</span> <span class="o">=</span> <span class="p">[</span><span class="kt">NSSortDescriptor</span><span class="p">(</span><span class="nv">key</span><span class="p">:</span> <span class="s">"title"</span><span class="p">,</span> <span class="nv">ascending</span><span class="p">:</span> <span class="kc">true</span><span class="p">)]</span>
<span class="n">fetchRequest</span><span class="o">.</span><span class="n">fetchBatchSize</span> <span class="o">=</span> <span class="mi">50</span>
</code></pre></div></div>

<p>titleì„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í•´ì„œ í•œ ë²ˆì— 50ê°œì˜ <code class="language-plaintext highlighter-rouge">Post</code>ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì½”ë“œë‹¤. ì—¬ê¸°ì— result controllerì™€ ê²°í•©í•´ë³´ì.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">fetchRequest</span><span class="p">:</span> <span class="kt">NSFetchRequest</span><span class="o">&lt;</span><span class="kt">Post</span><span class="o">&gt;</span> <span class="o">=</span> <span class="kt">Post</span><span class="o">.</span><span class="nf">fetchRequest</span><span class="p">()</span>

<span class="n">fetchRequest</span><span class="o">.</span><span class="n">sortDescriptors</span> <span class="o">=</span> <span class="p">[</span><span class="kt">NSSortDescriptor</span><span class="p">(</span><span class="nv">key</span><span class="p">:</span> <span class="s">"title"</span><span class="p">,</span> <span class="nv">ascending</span><span class="p">:</span> <span class="kc">true</span><span class="p">)]</span>
<span class="n">fetchRequest</span><span class="o">.</span><span class="n">fetchBatchSize</span> <span class="o">=</span> <span class="mi">50</span>

<span class="k">let</span> <span class="nv">controller</span> <span class="o">=</span> <span class="kt">NSFetchedResultsController</span><span class="p">(</span><span class="nv">fetchRequest</span><span class="p">:</span> <span class="n">fetchRequest</span><span class="p">,</span>
											<span class="nv">managedObjectContext</span><span class="p">:</span> <span class="n">moc</span><span class="p">,</span>
											<span class="nv">sectionNameKeyPath</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">cacheName</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
<span class="n">controller</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span>

<span class="k">try!</span> <span class="n">controller</span><span class="o">.</span><span class="nf">performFetch</span><span class="p">()</span>
</code></pre></div></div>

<p>fetchRequestë¥¼ Fetched Results Controllerí•œí…Œ ìœ„ì„í•œë‹¤. ê·¸ëŸ¬ë©´ Result Controllerê°€ ë³€ê²½ì‚¬í•­ì„ ì•Œì•„ì„œ ê°€ì ¸ì˜¤ê³  ì–´ì©Œêµ¬ ì €ì©Œêµ¬ ë‹¤ í•œë‹¤ëŠ” ëœ»ì´ë‹¤. ê·¸ë¦¬ê³  delegateë¥¼ ì§€ì •í•´ì¤¬ëŠ”ë°, ì—¬ê¸°ì— ë©”ì„œë“œ ëª‡ ê°œë¥¼ ì§€ì›í•œë‹¤.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">controllerWillChangeContent(:)</code> â†’ ë³€ê²½ì‚¬í•­ì´ ì–¸ì œ ë“¤ì–´ì˜¤ê¸° ì‹œì‘í•˜ëŠ” ì§€ ì•Œë ¤ì¤€ë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">controller(:didChange:atSectionIndex:for:)</code> â†’ ì„¹ì…˜ì´ ë³€ê²½ëœ ì‹œì ì„ ì•Œë ¤ì¤€ë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">controller(:didChange:at:for:newIndexPath:)</code> â†’ ë³€ê²½ëœ ê° ê°ì²´ì— ëŒ€í•´ ì–´ë–»ê²Œ ë³€ê²½ë˜ì—ˆëŠ” ì§€ ì•Œë ¤ì¤€ë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">controllerDidChangeContent(:)</code> â†’ ë³€ê²½ì‚¬í•­ ëë‚¬ë‹¤ê³  ì•Œë ¤ì¤€ë‹¤.</li>
</ul>

<p>ì´ëŸ° ë©”ì„œë“œë“¤ì€ ë³´í†µ TableView APIë‘ ê´€ë ¨ìˆê²Œ ì„¤ê³„ë˜ì–´ ìˆë‹¤. ê·¸ëŸ°ë° TableViewë¥¼ ë‹¤ì‹œ ê·¸ë¦´ ë•Œ ì¿¼ë¦¬ ê²°ê³¼ë‘ ì¼ì¹˜í•˜ê²Œ ì‘ì„±í•˜ë ¤ë©´ ì½”ë“œê°€ ë”ëŸ¬ì›Œì§„ë‹¤. ê·¸ë¦¬ê³  Collection ViewëŠ” ì´ëŸ° ë³€ê²½ ì½œë°± íŒ¨í„´ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤.</p>

<p>ê·¸ë˜ì„œ ìš°ë¦¬(Apple)ê°€ Fetch Results Controllerì—ì„œ ë˜ ìƒˆë¡œìš´ ê±° ì§€ì›í•œë‹¤ã…‹<br />
â†’ <code class="language-plaintext highlighter-rouge">NSDiffableDataSourceSnapshot</code></p>

<p>ê°„ë‹¨í•˜ê²Œ ì„¤ëª…í•˜ë©´, ìŠ¤ëƒ…ìƒ·ì„ ì°°ì¹µì°°ì¹µí•´ì„œ ì´ì „ ìŠ¤ëƒ…ìƒ·ì´ë‘ ë¹„êµí•˜ê³  ë³€ê²½ëœ ì‚¬í•­ì„ ì ìš©ì‹œí‚¤ëŠ” ë°©ì‹ì´ë‹¤.</p>

<p><code class="language-plaintext highlighter-rouge">DiffableDataSourceSnapshot</code> ë§ê³ ë„ <code class="language-plaintext highlighter-rouge">CollectionDifference</code> ë¼ëŠ” ìƒˆë¡œìš´ íƒ€ì…ë„ ìˆë‹¤. ì´ê±´ ë‘ ì»¬ë ‰ì…˜ ê°„ì˜ ì°¨ì´ë¥¼ ì¸ì½”ë”©í•˜ê³  ë‘ ì»¬ë ‰ì…˜ì—ì„œ ìƒì„±ë  ìˆ˜ ìˆë‹¤ê³  í•œë‹¤. <br />
â†’ ìì„¸í•œ ê±´ ì„¸ì…˜ 711ì„ ë³´ë¼ê³  í•˜ëŠ”ë°, ì„¸ì…˜ 711ì´ ì—†ë‹¤. OTLâ€¦ ê·¸ëŸ°ë° í‚¹ê°“ì œë“œë‹˜ì´ ì„¤ëª…í•´ë†“ì€ ê¸€ì´ ìˆëŠ”ë° ì´ê±° ê¼­ ë³´ì„¸ìš” ì„¤ëª… ì§±ì‰¬ì›€ <a href="https://zeddios.tistory.com/774">Swift 5.1 ) Ordered Collection Diffing</a></p>

<p>ê°ì„¤í•˜ê³ ,</p>

<p>ìš°ë¦¬ì˜ ëª©ì ì€ 1ì°¨ì› íƒ€ì…ì´ë‹¤. ê·¸ë˜ì„œ ì„¹ì…˜ ê°€ì ¸ì˜¤ê¸°ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì„ ë•Œë§Œ ì§€ì›í•œë‹¤. ê·¸ë¦¬ê³  SnapshotDelegate ë°©ë²•ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ legacyí•œ change reporting ë°©ë²•ì´ë‘ ìƒí˜¸ ë°°íƒ€ì ì´ë‹¤. ë”°ë¼ì„œ Fatched Results Controllerì—ì„œ ì—¬ëŸ¬ê°€ì§€ë¥¼ ë™ì‘í•˜ê²Œ í•˜ë ¤ë©´ ì—¬ëŸ¬ Fatched Results Controllerë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.</p>

<p>Collection Viewì˜ ë‹¨ì¼ ì„¹ì…˜ì„ ë³´ì—¬ì£¼ëŠ” ë°©ë²•ì„ ë³´ì.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">controller</span><span class="p">(</span>
    <span class="n">_</span> <span class="nv">controller</span><span class="p">:</span> <span class="kt">NSFetchedResultsController</span><span class="o">&lt;</span><span class="kt">NSFetchRequestResult</span><span class="o">&gt;</span><span class="p">,</span> 
    <span class="n">didChangeContentWith</span> <span class="nv">diff</span><span class="p">:</span> <span class="kt">CollectionDifference</span><span class="o">&lt;</span><span class="kt">NSManagedObjectID</span><span class="o">&gt;</span>
<span class="p">)</span> <span class="p">{</span>
    <span class="n">collectionView</span><span class="o">.</span><span class="nf">performBatchUpdates</span><span class="p">({</span>
        <span class="k">for</span> <span class="n">change</span> <span class="k">in</span> <span class="n">diff</span> <span class="p">{</span>
            <span class="k">switch</span> <span class="n">change</span> <span class="p">{</span>
                <span class="k">case</span> <span class="o">.</span><span class="nf">insert</span><span class="p">(</span><span class="nv">offset</span><span class="p">:</span> <span class="k">let</span> <span class="nv">newRow</span><span class="p">,</span> <span class="nv">element</span><span class="p">:</span> <span class="n">_</span><span class="p">,</span> <span class="nv">associatedWith</span><span class="p">:</span> <span class="k">let</span> <span class="nv">assoc</span><span class="p">):</span>
                    <span class="k">if</span> <span class="k">let</span> <span class="nv">oldRow</span> <span class="o">=</span> <span class="n">assoc</span> <span class="p">{</span> <span class="c1">// 1</span>
                        <span class="n">collectionView</span><span class="o">.</span><span class="nf">moveItem</span><span class="p">(</span>
                            <span class="nv">at</span><span class="p">:</span> <span class="kt">IndexPath</span><span class="p">(</span><span class="nv">row</span><span class="p">:</span> <span class="n">oldRow</span><span class="p">,</span> <span class="nv">section</span><span class="p">:</span> <span class="n">frcSection</span><span class="p">),</span>
                            <span class="nv">to</span><span class="p">:</span> <span class="kt">IndexPath</span><span class="p">(</span><span class="nv">row</span><span class="p">:</span> <span class="n">newRow</span><span class="p">,</span> <span class="nv">section</span><span class="p">:</span> <span class="n">frcSection</span><span class="p">))</span>
                    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="c1">// 2</span>
                        <span class="n">collectionView</span><span class="o">.</span><span class="nf">insertItems</span><span class="p">(</span>
                            <span class="nv">at</span><span class="p">:</span> <span class="p">[</span><span class="kt">IndexPath</span><span class="p">(</span><span class="nv">row</span><span class="p">:</span> <span class="n">newRow</span><span class="p">,</span> <span class="nv">section</span><span class="p">:</span> <span class="n">frcSection</span><span class="p">)])</span>
                    <span class="p">}</span>
                <span class="k">case</span> <span class="o">.</span><span class="nf">remove</span><span class="p">(</span><span class="nv">offset</span><span class="p">:</span> <span class="k">let</span> <span class="nv">oldRow</span><span class="p">,</span> <span class="nv">element</span><span class="p">:</span> <span class="n">_</span><span class="p">,</span> <span class="nv">associatedWith</span><span class="p">:</span> <span class="k">let</span> <span class="nv">assoc</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">assoc</span> <span class="o">==</span> <span class="kc">nil</span> <span class="p">{</span> <span class="c1">// 3</span>
                        <span class="n">collectionView</span><span class="o">.</span><span class="nf">deleteItems</span><span class="p">(</span>
                            <span class="nv">at</span><span class="p">:</span> <span class="p">[</span><span class="kt">IndexPath</span><span class="p">(</span><span class="nv">row</span><span class="p">:</span> <span class="n">oldRow</span><span class="p">,</span> <span class="nv">section</span><span class="p">:</span> <span class="n">frcSection</span><span class="p">)])</span>
                    <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">},</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">CollectionDifference</code>ëŠ” ë‘ ê°€ì§€ ë³€ê²½ ì‚¬í•­ì„ ì§€ì›í•˜ëŠ”ë° ì‚½ì…ì´ë‘ ì‚­ì œë‹¤. ì„œë¡œ ë°˜ëŒ€ë˜ëŠ” ë‘ ë³€ê²½ì‚¬í•­ì€ ì—°ê´€ì„ í†µí•´ ì„œë¡œ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.</p>

<ol>
  <li>ê°ì²´ê°€ ì´ë™í–ˆê±°ë‚˜ ìµœì†Œí•œ ë³€ê²½ë˜ì—ˆìŒì„ ì˜ë¯¸í•œë‹¤.</li>
  <li>ì´ì „ ê²°ê³¼ì— ì—†ì—ˆë˜ ë‚´ìš©ì´ë‹ˆê¹Œ ì‚½ì…í•œë‹¤. Collection Viewì— ì¶”ê°€í•˜ë¼ê³  ì§€ì‹œí•œë‹¤.</li>
  <li>ê´€ê³„ì„±(<code class="language-plaintext highlighter-rouge">assoc</code>)ì´ ì—†ìœ¼ë©´ ì‚­ì œí•˜ë¼ëŠ” ëœ»ì´ë‹¤.</li>
</ol>

<p>ì´ì œ Fetched Results ë¥¼ ë·°ì— ì‰½ê²Œ ì ìš©í•  ìˆ˜ ìˆë‹¤. ê·¸ëŸ°ë° ê²°ê³¼ ìì²´ë¥¼ ê°€ì ¸ì˜¤ê¸° ì–´ë µë‹¤ë©´ ì–´ë–»ê²Œ ë ê¹Œ? fetchë¥¼ ìœ„í•œ fetch requestì„ ì‘ì„±í•  ìˆ˜ ì—†ìœ¼ë©´? fetch requestë¥¼ ì‹¤í–‰í•  ë•Œ ì„±ëŠ¥ ë¬¸ì œê°€ ë°œìƒí•˜ë©´? íŠ¹ì • ì‹œì ì—ì„œ ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ìš”êµ¬ ì‚¬í•­ì´ ëª¨ë¸ì˜ ìš”êµ¬ì‚¬í•­ë³´ë‹¤ ë” ì¤‘ìš”í•˜ë‹¤. ê·¸ë˜ì„œ ëª¨ë¸ë§ì˜ ìˆœìˆ˜ì„±ì„ ì¼ë¶€ í¬ê¸°í•´ì•¼ í•œë‹¤. ê·¸ë¦¬ê³  ê·¸ê²Œ ë°”ë¡œ ì—­ì •ê·œí™”.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ë‚œ ì—­ì •ê·œí™”ê°€ ì •ë§ì‹¤íƒ€
</code></pre></div></div>

<h2 id="denormalization">Denormalization</h2>

<p>WWDC 2018 ì„¸ì…˜ 224ì—ì„œ ì—­ì •ê·œí™”ì— ëŒ€í•œ ì–˜ê¸°ë¥¼ í–ˆì—ˆëŠ”ë°, ìš”ì•½í•˜ë©´ ì—­ì •ê·œí™”ëŠ” ë°ì´í„° ë³µì‚¬ë³¸ì„ ë³µì‚¬í•´ë†“ëŠ” ê±°ë¼ ì ‘ê·¼í•  ë•Œ ë” íš¨ìœ¨ì ì¼ ìˆ˜ ìˆë‹¤ëŠ” ë‚´ìš©ì´ë‹¤.</p>

<p>ë¬¼ë¡  ì¶”ê°€ ë°ì´í„°ë¥¼ ìœ ì§€ ê´€ë¦¬í•˜ëŠ” ê±´ ë˜ ì¶”ê°€ì ì¸ ì˜¤ë²„í—¤ë“œ ëŒ€ê°€ê°€ ë”°ë¥¸ë‹¤. ê·¸ë ‡ì§€ë§Œ? ë°ì´í„°ë² ì´ìŠ¤ ì¸ë±ìŠ¤ë¥¼ ìƒê°í•´ë³´ì. ì¸ë±ì‹±ëœ ëª¨ë“  ì—´ì˜ ë³µì‚¬ë³¸ì„ ìœ ì§€í•˜ëŠ” ëŒ€ê°€ë¡œ í•´ë‹¹ ì—´ì— ì ‘ê·¼í•  ë•Œ ë²ˆê°œì²˜ëŸ¼ ë¹ ë¥´ë‹¤.</p>

<p>ìš°ë¦¬ ì•±ì„ ë‹¤ì‹œ ì‚´í´ë³´ì. ì—­ì •ê·œí™”ë¥¼ í•˜ë©´ ê° íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²Œì‹œë¬¼ ìˆ˜ë¥¼ ì¶”ì í•  ë•Œ ì¢‹ë‹¤. íƒœê·¸ì— <code class="language-plaintext highlighter-rouge">postCount</code>ë¼ëŠ” ì •ìˆ˜ ì†ì„±ë§Œ ì¶”ê°€í•˜ë©´ ëœë‹¤. ê·¸ë¦¬ê³  ê²Œì‹œë¬¼ì— íƒœê·¸ê°€ ì§€ì •ë  ë•Œ ì¦ê°€, íƒœê·¸ê°€ ì œê±°ë  ë•Œ ê°ì†Œì‹œí‚¤ëŠ” ë¡œì§ì„ ì¶”ê°€í•˜ëŠ” ê²ƒ ë¿ì´ë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ë²„ê·¸ê°€ ì—†ê³  ì¼ê´€ì„±ì´ ìˆì„ ê±° ê°™ì§€ë§Œâ€¦ ì´ë ‡ê²Œ í•˜ì§€ ë§ê³  íŒŒìƒ ì†ì„±ì„ ì¨ë¼.</p>

<h3 id="derived-attributes">Derived Attributes</h3>

<p>Core Dataì—ì„œ ìœ ì§€ ê´€ë¦¬í•˜ëŠ” ì •ê·œí™”ëœ ë©”íƒ€ ë°ì´í„°ì´ë‹¤.</p>

<p>ì´ê±´ Managed Object Modelì— ì •ì˜ëœë‹¤. ê·¸ë¦¬ê³  Xcodeì—ì„œ í¸ì§‘í•  ìˆ˜ë„ ìˆë‹¤. ì•„ë‹ˆë©´ <code class="language-plaintext highlighter-rouge">NSDerivedAttributeDescription</code>ë¥¼ ì´ìš©í•´ì„œ ì½”ë“œì—ì„œ ì •ì˜í•  ìˆ˜ë„ ìˆë‹¤.</p>

<p>ì—”í‹°í‹°ì˜ ëª¨ë“  ì†ì„±ì„ One Level Deepí•˜ê²Œ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤. ë¹„ì •ê·œí™”ë„ ì‰½ê²Œ ë§Œë“ ë‹¤.</p>

<h3 id="demo"><em>Demo</em></h3>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">override</span> <span class="kd">func</span> <span class="nf">tableView</span><span class="p">(</span><span class="n">_</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="p">,</span> <span class="n">cellForRowAt</span> <span class="nv">indexPath</span><span class="p">:</span> <span class="kt">IndexPath</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">UITableViewCell</span> <span class="p">{</span>
	<span class="k">guard</span> <span class="k">let</span> <span class="nv">cell</span> <span class="o">=</span> <span class="n">tableView</span><span class="o">.</span><span class="nf">dequeueReusableCell</span><span class="p">(</span><span class="nv">withpermalink</span><span class="p">:</span> <span class="s">"TagCell"</span><span class="p">,</span> <span class="nv">for</span><span class="p">:</span> <span class="n">indexPath</span><span class="p">)</span> <span class="k">as?</span> <span class="kt">TagCell</span> <span class="k">else</span> <span class="p">{</span>
		<span class="nf">fatalError</span><span class="p">(</span><span class="s">"###</span><span class="se">\(</span><span class="k">#function</span><span class="se">)</span><span class="s">: Failed to dequeue TagCell. Check the cell reusable identifier in Main.storyboard."</span><span class="p">)</span>
	<span class="p">}</span>

	<span class="k">let</span> <span class="nv">tag</span> <span class="o">=</span> <span class="n">dataProvider</span><span class="o">.</span><span class="n">fetchedResultsController</span><span class="o">.</span><span class="nf">object</span><span class="p">(</span><span class="nv">at</span><span class="p">:</span> <span class="n">indexPath</span><span class="p">)</span>
	<span class="n">cell</span><span class="o">.</span><span class="n">nameLabel</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s">"</span><span class="se">\(</span><span class="n">tag</span><span class="o">.</span><span class="n">name</span><span class="o">!</span><span class="se">)</span><span class="s"> (</span><span class="se">\(</span><span class="n">tag</span><span class="o">.</span><span class="n">posts</span><span class="p">?</span><span class="o">.</span><span class="n">count</span> <span class="p">??</span> <span class="mi">0</span><span class="se">)</span><span class="s">)"</span>
	<span class="n">cell</span><span class="o">.</span><span class="n">nameLabel</span><span class="o">.</span><span class="n">textColor</span> <span class="o">=</span> <span class="n">tag</span><span class="o">.</span><span class="n">color</span> <span class="k">as?</span> <span class="kt">UIColor</span>

	<span class="k">return</span> <span class="n">cell</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ë¸”ë¡œê¹… ì•±ì´ ìˆë‹¤. íƒœê·¸ ê´€ë¦¬ìë¥¼ ë³´ë©´ ì„¸ ê°œì˜ íƒœê·¸ì™€ ë§ì€ ê²Œì‹œë¬¼ì´ ìˆë‹¤ëŠ” ê±¸ ì•Œ ìˆ˜ ìˆë‹¤. ê·¸ëŸ°ë° ì—¬ê¸°ì—ì„œ ë™ì‘í•˜ëŠ” ë·° ìª½ ì½”ë“œëŠ” ì‹¤ì œë¡œ ê´€ê³„ ê²Œì‹œë¬¼ì„ ìˆœíšŒí•˜ê³  ì¹´ìš´íŠ¸ë¥¼ ê°€ì ¸ì˜¨ë‹¤. (<code class="language-plaintext highlighter-rouge">tag.posts?.count ?? 0</code> ë¶€ë¶„) ë” ë§ì€ ë°ì´í„°ê°€ ìˆìœ¼ë©´ ë‹¹ì—°íˆ ì„±ëŠ¥ ë¬¸ì œê°€ ìƒê¸´ë‹¤. ê·¸ë˜ì„œ Derived Attributesë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ìˆ˜ì •í•´ë³¼ ì˜ˆì •ì´ë‹¤.</p>

<p><img src="/assets/img/making-apps-with-core-data/image7.png" alt="" /></p>

<p>ìƒˆë¡œìš´ ì†ì„±ì„ ì¶”ê°€í•œë‹¤. <code class="language-plaintext highlighter-rouge">postCount: Integer 64</code></p>

<p>ê·¸ë¦¬ê³ ì„œ Attribute Inspector ë¥¼ ë³´ë©´ Derived ë¼ëŠ” í•­ëª©ì´ ìˆë‹¤.</p>

<p><img src="/assets/img/making-apps-with-core-data/image8.png" alt="" /></p>

<p>í•´ë‹¹ í•­ëª©ì„ ì²´í¬í•˜ë©´ ìƒˆë¡œìš´ í•­ëª©ì´ ìƒê¸´ë‹¤.</p>

<p><img src="/assets/img/making-apps-with-core-data/image9.png" alt="" />
<img src="/assets/img/making-apps-with-core-data/image10.png" alt="" /></p>

<p>Derivation í•­ëª©ì— í‘œí˜„ì‹ì„ ì ìœ¼ë©´ ëœë‹¤. ìš°ë¦¬ëŠ” postì˜ ê°œìˆ˜ë¥¼ ì•Œê³ ì‹¶ìœ¼ë‹ˆê¹Œ <code class="language-plaintext highlighter-rouge">posts.@count</code>ë¡œ ì ìœ¼ë©´ ëœë‹¤. ì´ì œ ë¹Œë“œí•˜ë©´ <code class="language-plaintext highlighter-rouge">postCount</code>ë¼ëŠ” ë³€ìˆ˜ë¡œ ì ‘ê·¼í•´ì„œ ì“¸ ìˆ˜ ìˆë‹¤. í›¨ì”¬ ë¹ ë¥´ê³  ë” ì¢‹ë‹¤. so goooood!</p>

<p>ì§€ì›ë˜ëŠ” í‘œí˜„ì‹ì€ ê°œë°œì ë¬¸ì„œë¥¼ ì°¸ê³ .</p>

<p>â†’ <a href="https://developer.apple.com/documentation/coredata/nsderivedattributedescription">NSDerivedAttributeDescription - Apple Developer Documentation</a></p>

<p>ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê±´ ë„¤ ê°œì˜ í´ë˜ìŠ¤ì´ë‹¤.</p>

<ul>
  <li>Data duplication<br />
  Attachment Identifierì™€ ì´ê±¸ ë’·ë°›ì¹¨í•˜ëŠ” Image Dataì˜ ë³µì‚¬ë³¸ì„ ìœ ì§€í•˜ëŠ” ê²ƒê³¼ ê°™ì´ ì™„ì „í•œ ë³µì œ</li>
  <li>Data transformation<br />
  íƒœê·¸ ì´ë¦„ì„ ì†Œë¬¸ìë¡œ ì²˜ë¦¬í•˜ê±°ë‚˜ ì¼ë¶€ ìœ ë‹ˆì½”ë“œ ë¬¸ìì—´ì„ ì •ê·œí™”í•˜ëŠ” ê±° ê°™ì€ í•„ë“œ ë³€í™˜</li>
  <li>To-many aggregate functions<br />
  Like ì§‘ê³„ í•¨ìˆ˜</li>
  <li>Zero-parameter functions<br />
  ë§¤ê°œë³€ìˆ˜ ì“°ì§€ ì•ŠëŠ” <code class="language-plaintext highlighter-rouge">now()</code> ê°™ì€ ì „ì—­ í•¨ìˆ˜ â†’ ê°ì²´ê°€ ë§ˆì§€ë§‰ìœ¼ë¡œ ì—…ë°ì´íŠ¸ëœ ì‹œê°„ì„ ì¶”ì í•  ë•Œ ê°™ì€ ì‘ì—…ì— ìœ ìš©</li>
</ul>

<h2 id="scaling-your-app">Scaling your app</h2>

<p>ì¡°ê¸ˆ ë” ê³ ì˜¤ì˜¤ê¸‰ ì£¼ì œì™€ Scalingì— ëŒ€í•´ì„œ ì´ì•¼ê¸°í•˜ëŠ” ë¶€ë¶„ì´ë‹¤. ì¼ë¶€ë¶„ë§Œ ì´í•´í–ˆê³ , ì •ë¦¬ë¥¼ í•˜ê¸´ í–ˆëŠ”ë° ì™„ì „íˆ ì´í•´í•œ ê±´ ì•„ë‹ˆë¼ì„œ ìƒëµ.</p>

<p>ê·¸ë˜ë„ ê°„ë‹¨í•˜ê²Œ ìš”ì•½í•˜ë©´ ë³€ê²½ ì‚¬í•­ì˜ ì¼ë¶€ë¶„ë§Œ ì¡°íšŒí•˜ê±°ë‚˜, íŠ¹ì • ì‹œê°„ ë²”ìœ„ ë‚´ì˜ ê¸°ë¡ë§Œ ì¡°íšŒí•˜ê³  ì‹¶ì„ ë•Œ Persistent History ë¼ëŠ” ê±¸ ì“°ë¼ëŠ” ë‚´ìš©ì´ë‹¤.</p>

<h2 id="testing">Testing</h2>

<ol>
  <li>Test against actual performance goals<br />
 ì„±ê³¼ ëª©í‘œê°€ ë¬´ì—‡ì¸ì§€ ì•„ëŠ” ê²ƒ<br />
 ë°ì´í„° ì…‹ì— ë”°ë¼ í…ŒìŠ¤íŠ¸ë¥¼ í•´ì•¼ í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì—°ë½ì²˜ ì•±ì€ ìˆ˜ ë§Œê°œì˜ ê°ì²´ë¡œ í…ŒìŠ¤íŠ¸ í•´ì•¼ í•˜ê³ , ì´ë¯¸ì§€ ì•±ì€ ìˆ˜ë°±ë§Œê°œë¡œ í…ŒìŠ¤íŠ¸ í•´ì•¼ í•œë‹¤.</li>
  <li>Run intergration tests in multiple configs<br />
 ì—¬ëŸ¬ ì¢…ë¥˜ì˜ ë¬¸ì œë„ ê°ì§€í•˜ê³  í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆê²Œ êµ¬ì„±í•´ì•¼ í•œë‹¤. ê·¸ë˜ì„œ í”„ë ˆì„ì›Œí¬ì—ì„œ ì œê³µí•˜ëŠ” ë™ì‹œì„± ë””ë²„ê¹…ë„ í™œìš©í•´ì•¼ í•œë‹¤.</li>
  <li>Use in-memory stores where appropriate<br />
 ì—¬ëŸ¬ êµ¬ì„±ì—ì„œ í†µí•© í…ŒìŠ¤íŠ¸í•˜ë©´ ì‹œê°„ì´ ë§ì´ ì†Œìš”ëœë‹¤. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” ìµœëŒ€í•œ ë¹¨ë¼ì•¼ í•˜ê¸° ë•Œë¬¸ì— í…ŒìŠ¤íŠ¸ ëŸ°íƒ€ì„ì´ ì¤‘ìš”í•œ ê²½ìš°ì— in-memory ë¥¼ ì‚¬ìš©í•´ë¼.<br />
 â†’ êµ¬ì²´ì ìœ¼ë¡œ SqLightStores in-memoryë¥¼ ì˜ë¯¸
    <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">let</span> <span class="nv">container</span> <span class="o">=</span> <span class="kt">NSPersistentCloudKitContainer</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"CoreDataCloudKitDemo"</span><span class="p">)</span>

 <span class="k">let</span> <span class="nv">description</span> <span class="o">=</span> <span class="n">container</span><span class="o">.</span><span class="n">persistentStoreDescriptions</span><span class="o">.</span><span class="n">first</span><span class="o">!</span>

 <span class="n">description</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">fileURLWithPath</span><span class="p">:</span> <span class="s">"/dev/null"</span><span class="p">)</span> <span class="c1">// .appendingPathComponent(str)</span>

 <span class="n">container</span><span class="o">.</span><span class="nf">loadPersistentStores</span><span class="p">(</span><span class="nv">completionHandler</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="k">in</span>
     <span class="k">guard</span> <span class="k">let</span> <span class="nv">error</span> <span class="o">=</span> <span class="n">error</span> <span class="k">as</span> <span class="kt">NSError</span><span class="p">?</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="p">}</span>
     <span class="nf">fatalError</span><span class="p">(</span><span class="s">"###</span><span class="se">\(</span><span class="k">#function</span><span class="se">)</span><span class="s">: Failed to load persistent stores:</span><span class="se">\(</span><span class="n">error</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
 <span class="p">})</span>
</code></pre></div>    </div>

    <p>ìœ„ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ í•˜ë¼ëŠ” ë‚´ìš©. ì´ë ‡ê²Œ í•˜ë©´ ë§¤ìš° ì¢‹ì€ ì„±ëŠ¥ì˜ Core Data Stackì´ ë§Œë“¤ì–´ì§„ë‹¤. ê·¼ë° in-memory ì €ì¥ì†ŒëŠ” ì½”ë””ë„¤ì´í„°ê°„ì— ê³µìœ ê°€ ì•ˆëœë‹¤. ëŒ€ì‹  ëª…ëª…ëœ ë©”ëª¨ë¦¬ ë‚´ ì €ì¥ì†Œë¥¼ í™œìš©í•˜ë¼ëŠ” ë‚´ìš©ì´ ìˆëŠ”ë° ì£¼ì„ ì²˜ë¦¬í•´ë†“ì€ ë¶€ë¶„ì„ ì¶”ê°€í•´ì„œ ì“°ë¼ëŠ” ë§ì´ë‹¤.</p>

    <p>ê·¸ë¦¬ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ Sanitizersë¥¼ ì‚¬ìš©í•´ë¼. ì´ê±´ Xcodeì—ì„œ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì¸ë° ìì„¸í•œ ê±´ Diagnosing Memory, Thread, and Crash Issues Early ë¬¸ì„œ ì°¸ê³ </p>
  </li>
</ol>

<h2 id="ì°¸ê³ -ìë£Œ">ì°¸ê³  ìë£Œ</h2>

<ul>
  <li><a href="https://developer.apple.com/documentation/xcode/diagnosing-memory-thread-and-crash-issues-early">Diagnosing Memory, Thread, and Crash Issues Early</a></li>
</ul>

<h2 id="íƒœê·¸">íƒœê·¸</h2>

<p>#iOS/WWDC/2019 #iOS/CoreData</p>

    </article>


    
    <div class="giscus"></div>
    <div class="post-comments">
    <script src="https://giscus.app/client.js"
        data-repo="jwonylee/jwonylee.github.io"
        data-repo-id="SAMPLE-VALUE"
        data-category="Announcements"
        data-category-id="SAMPLE-VALUE"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="light"
        data-lang="ko"
        crossorigin="anonymous"
        data-mapping="specific"
        data-term=""
        data-strict="0"
        async>
    </script>
    </div>



</div>
<script async src="/js/create-link.js"></script>


<script async>
    ;(function() {
        const tableList = document.querySelectorAll('.table-generate');

        if (tableList == null) {
            return;
        }

        for (let i = 0; i < tableList.length; i++) {
            const ul = tableList[i];
            const draw = {
                th: '',
                td: ''
            };

            const rows = ul.children;
            for (let j = 0; j < rows.length; j++) {
                const row = rows[j].children[0];
                const columns = row.children;
                const isHeader = /^th/.test(rows[j].innerHTML);
                const colTag = isHeader ? 'th' : 'td';

                let colData = '';
                for (let k = 0; k < columns.length; k++) {
                    const column = columns[k];
                    const content = column.innerHTML;
                    colData += `<${colTag}>${content}</${colTag}>`;
                }

                const trHtml = `<tr>${colData}</tr>`

                draw[colTag] += trHtml;
            }

            const result = `
                <table>
                    <thead>${draw.th}</thead>
                    <tbody>${draw.td}</tbody>
                </table>`

            const targetId = ul.getAttribute('data-target-id');
            document.getElementById(targetId).innerHTML = result;
            ul.remove();
        }
    })();
    ;(function() {
        const source = document.querySelectorAll('.dynamic-insert');

        if (source == null) {
            return;
        }

        for (let i = 0; i < source.length; i++) {
            const item = source[i];

            const target = item.getAttribute('data-target-selector');
            document.querySelector(target).innerHTML = item.outerHTML;
            item.remove();
        }
    })();
</script>


<script async src="/js/parent.js"></script>
<script async src="/js/toc-highlight.js"></script>

            </div>
        </div>
        <footer class="footer">
    <div>

    </div>

    <script data-ad-client="SAMPLE-VALUE" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

</footer>
    </body>
</html>
